<!DOCTYPE html>
<html lang="" xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#"
	xmlns:fb="http://www.facebook.com/2008/fbml">

<head>
	<meta charset="UTF-8">
	<title>Adafruit Circuit Playground Express - Blocks / Javascript editor</title>
	<meta name="Description" content="A Blocks / JavaScript code editor for the Adafruit Circuit Playground Express." />

	<!-- ifdef incontexttranslations endif -->
	
<!-- include meta.html -->
<!-- This file is typically overriden by the target, with own Twitter
     account etc. Most data is taken from the theme file though.  
  -->

<!-- include robotsmeta.html -->

<!-- end include robotsmeta.html -->

<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@msmakecode" />
<meta name="twitter:title" content="Adafruit Circuit Playground Express - Blocks / Javascript editor" />
<meta name="twitter:description" content="A Blocks / JavaScript code editor for the Adafruit Circuit Playground Express." />
<meta name="twitter:image" content="/static/cp/learn/pins-tutorial/devices/capacitors/header.jpg" />

<meta property="og:title" content="Adafruit Circuit Playground Express - Blocks / Javascript editor" />
<meta property="og:site_name" content="Microsoft MakeCode" />
<meta property="og:type" content="website" />
<meta property="og:description" content="A Blocks / JavaScript code editor for the Adafruit Circuit Playground Express." />
<meta property="fb:app_id" content="" />
<meta property="og:image" content="/static/cp/learn/pins-tutorial/devices/capacitors/header.jpg" />

<meta name="format-detection" content="telephone=no">
<link rel="apple-touch-icon" href="docs/static/icons/android-chrome-192x192.png">
<link rel="icon" type="image/png" href="docs/static/icons/android-chrome-192x192.png">
<link rel="shortcut icon" href="docs/static/icons/android-chrome-192x192.png">
<meta name="theme-color" content="#0089BF">

<!-- end include meta.html -->

	
<!-- include head.html -->
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width,height=device-height,user-scalable=no,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0">

<link rel="stylesheet" data-rtl="/blb/rtlsemantic.css" href="/hostedPXT/semantic.css" />
<link id="blocklycss"  data-rtl="/blb/rtlblockly.css" rel="stylesheet" href="/hostedPXT/blockly.css" />
<link rel="stylesheet" href="/hostedPXT/docfiles/style.css" />
<link rel="stylesheet" href="/hostedPXT/docfiles/vs.css" />
<link rel="stylesheet" href="/hostedPXT/docfiles/target.css" />

<script src="/hostedPXT/jquery.js" type="text/javascript"></script>
<script src="/hostedPXT/semantic.js" type="text/javascript"></script>
<script src="/hostedPXT/docfiles/target.js" type="text/javascript"></script>
<script src="/hostedPXT/embed.js" type="text/javascript"></script>
<script src="/hostedPXT/docfiles/docs.js" type="text/javascript"></script>

<style>
    
.ui.accent { color: #0089BF; }
.ui.inverted.accent { background: #0089BF; }

</style>

<!-- end include head.html -->


</head>

<body id='root' class='root'>
	<div id="accessibleMenu" class="ui accessibleMenu borderless fixed menu docs" role="menubar">
		
            <a href="#maincontent" class="ui item link" tabindex="0" role="menuitem">Skip to main content</a>
        
	</div>

	
<!-- include tocheader.html -->
<div id="top-bar" class="ui fixed accent borderless inverted main menu hideprint docs" role="menubar">
    <div>
        
            <a id="togglesidebar" class="launch icon item" tabindex="0" title="Side menu" aria-label="Side menu" role="menuitem" aria-expanded="false">
                <i class="content icon"></i>
            </a>
        
        <div class="item" role="menuitem">
            <div>
                <a href="/hostedPXT/docs/.html" class="header" tabindex="0" title="Go to editor">
                    <img aria-hidden="true" role="presentation" class="ui mini image" src="docs/static/logo.square.svg" />
                </a>
            </div>
            <div>
                Documentation
            </div>
        </div>
    </div>
    <div>
        <div class="item">
            <form id="tocsearch1" class="search" role="form" method="get" action="https://www.bing.com/search">
                <div class="ui fluid icon input">
                    <input type="hidden" name="q1" value="site:https://makecode.adafruit.com/" />
                    
                <input type="search" name="q" placeholder="Search..." aria-label="Search Documentation">
                <i onclick="document.getElementById('tocsearch1').submit();" tabindex="0" class="search link icon" aria-label="Search" role="button"></i>
            
                </div>
            </form>
        </div>
    </div>
</div>

<div id="side-menu" class="ui vertical accent inverted sidebar menu left hideprint docs" role="menubar">
    <!-- TOC Menu (tocheader.html) -->
    <div class="menuContainer" role="menu">
        
    <a class="item " href="/hostedPXT/docs/about.html" role="menuitem">About</a>


    <a class="item " href="/hostedPXT/docs/faq.html" role="menuitem">FAQ</a>


    <a class="item " href="/hostedPXT/docs/projects.html" role="menuitem">Projects</a>


    <a class="item " href="/hostedPXT/docs/github.html" role="menuitem">GitHub</a>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/examples.html">Examples</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/examples/blinky.html" role="menuitem">Blinky</a>


    <a class="item " href="/hostedPXT/docs/examples/animation-shaker.html" role="menuitem">Animation Shaker</a>


    <a class="item " href="/hostedPXT/docs/examples/juggle-counter.html" role="menuitem">Juggle Counter</a>


    <a class="item " href="/hostedPXT/docs/examples/energy-glove.html" role="menuitem">Energy Glove</a>


    <a class="item " href="/hostedPXT/docs/examples/dice.html" role="menuitem">Dice</a>


    <a class="item " href="/hostedPXT/docs/examples/level.html" role="menuitem">Level</a>


    <a class="item " href="/hostedPXT/docs/examples/counter.html" role="menuitem">Counter</a>


    <a class="item " href="/hostedPXT/docs/examples/egg-game.html" role="menuitem">Egg game</a>


    <a class="item " href="/hostedPXT/docs/examples/reaction.html" role="menuitem">Reaction</a>


    <a class="item " href="/hostedPXT/docs/examples/photon-beatbox.html" role="menuitem">Photon beatbox</a>


    <a class="item " href="/hostedPXT/docs/examples/spin-it.html" role="menuitem">Spin it</a>


    <a class="item " href="/hostedPXT/docs/examples/metronome.html" role="menuitem">Metronome</a>


    <a class="item " href="/hostedPXT/docs/examples/beat-visualizer.html" role="menuitem">Beat visualizer</a>


    <a class="item " href="/hostedPXT/docs/examples/fireflies.html" role="menuitem">Fireflies</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/courses.html">Courses</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/courses/maker.html" role="menuitem">Maker</a>


    <a class="item " href="/hostedPXT/docs/learnsystem/pins-tutorial.html" role="menuitem">Using the Pins</a>


    <a class="item " href="/hostedPXT/docs/learnsystem/logic-lab.html" role="menuitem">Logic Lab</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/reference.html">Reference</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/reference/input.html" role="menuitem">input</a>


    <a class="item " href="/hostedPXT/docs/reference/light.html" role="menuitem">light</a>


    <a class="item " href="/hostedPXT/docs/reference/music.html" role="menuitem">music</a>


    <a class="item " href="/hostedPXT/docs/reference/network.html" role="menuitem">network</a>


    <a class="item " href="/hostedPXT/docs/reference/pins.html" role="menuitem">pins</a>


    <a class="item " href="/hostedPXT/docs/reference/control.html" role="menuitem">control</a>


    <a class="item " href="/hostedPXT/docs/reference/console.html" role="menuitem">console</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/blocks.html">Blocks</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/blocks/on-start.html" role="menuitem">On Start</a>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/blocks/loops.html">Loops</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/blocks/loops/repeat.html" role="menuitem">repeat</a>


    <a class="item " href="/hostedPXT/docs/blocks/loops/for.html" role="menuitem">for</a>


    <a class="item " href="/hostedPXT/docs/blocks/loops/while.html" role="menuitem">while</a>


    <a class="item " href="/hostedPXT/docs/blocks/loops/for-of.html" role="menuitem">for of</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/blocks/logic.html">Logic</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/blocks/logic/if.html" role="menuitem">if</a>


    <a class="item " href="/hostedPXT/docs/blocks/logic/boolean.html" role="menuitem">Boolean</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/blocks/variables.html">Variables</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/blocks/variables/assign.html" role="menuitem">assign</a>


    <a class="item " href="/hostedPXT/docs/blocks/variables/change.html" role="menuitem">change var</a>


    <a class="item " href="/hostedPXT/docs/blocks/variables/var.html" role="menuitem">var</a>

        </div>
    </div>


    <a class="item " href="/hostedPXT/docs/blocks/math.html" role="menuitem">Math</a>


    <a class="item " href="/hostedPXT/docs/blocks/javascript-blocks.html" role="menuitem">JavaScript blocks</a>


    <a class="item " href="/hostedPXT/docs/blocks/custom.html" role="menuitem">Custom blocks</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/python.html">Python</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/python/call.html" role="menuitem">Calling</a>


    <a class="item " href="/hostedPXT/docs/python/sequence.html" role="menuitem">Sequencing</a>


    <a class="item " href="/hostedPXT/docs/python/variables.html" role="menuitem">Variables</a>


    <a class="item " href="/hostedPXT/docs/python/operators.html" role="menuitem">Operators</a>


    <a class="item " href="/hostedPXT/docs/python/statements.html" role="menuitem">Statements</a>


    <a class="item " href="/hostedPXT/docs/python/functions.html" role="menuitem">Functions</a>


    <a class="item " href="/hostedPXT/docs/python/classes.html" role="menuitem">Classes</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/javascript.html">JavaScript</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/javascript/call.html" role="menuitem">Calling</a>


    <a class="item " href="/hostedPXT/docs/javascript/sequence.html" role="menuitem">Sequencing</a>


    <a class="item " href="/hostedPXT/docs/javascript/variables.html" role="menuitem">Variables</a>


    <a class="item " href="/hostedPXT/docs/javascript/operators.html" role="menuitem">Operators</a>


    <a class="item " href="/hostedPXT/docs/javascript/statements.html" role="menuitem">Statements</a>


    <a class="item " href="/hostedPXT/docs/javascript/functions.html" role="menuitem">Functions</a>


    <a class="item " href="/hostedPXT/docs/javascript/types.html" role="menuitem">Types</a>


    <a class="item " href="/hostedPXT/docs/javascript/classes.html" role="menuitem">Classes</a>


    <a class="item " href="/hostedPXT/docs/javascript/interfaces.html" role="menuitem">Interfaces</a>


    <a class="item " href="/hostedPXT/docs/javascript/generics.html" role="menuitem">Generics</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/types.html">Types</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/types/number.html" role="menuitem">Number</a>


    <a class="item " href="/hostedPXT/docs/types/string.html" role="menuitem">String</a>


    <a class="item " href="/hostedPXT/docs/types/boolean.html" role="menuitem">Boolean</a>


    <a class="item " href="/hostedPXT/docs/types/array.html" role="menuitem">Array</a>


    <a class="item " href="/hostedPXT/docs/types/function.html" role="menuitem">Function</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="">Miscellaneous</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/about.html" role="menuitem">About</a>


    <a class="item " href="/hostedPXT/docs/support.html" role="menuitem">Support</a>


    <a class="item " href="/hostedPXT/docs/translate.html" role="menuitem">Translate</a>


    <a class="item " href="/hostedPXT/docs/share.html" role="menuitem">Sharing projects</a>


    <a class="item " href="/hostedPXT/docs/offline.html" role="menuitem">Offline support</a>


    <a class="item " href="/hostedPXT/docs/save.html" role="menuitem">Save</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="">Developers</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/cli.html" role="menuitem">Command Line Interface</a>


    <a class="item " href="/hostedPXT/docs/code.html" role="menuitem">Visual Studio Code support</a>


    <a class="item " href="/hostedPXT/docs/blocks-embed.html" role="menuitem">Blocks Embed</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/projects.html">Projects</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/projects/magic-wand.html" role="menuitem">Magic Wand</a>


    <a class="item " href="/hostedPXT/docs/projects/dandelion.html" role="menuitem">Dandelion</a>


    <a class="item " href="/hostedPXT/docs/projects/fidget-spinner.html" role="menuitem">Fidget Spinner</a>


    <a class="item " href="/hostedPXT/docs/projects/watch-timer.html" role="menuitem">Watch Timer</a>


    <a class="item " href="/hostedPXT/docs/projects/lucky-wheel.html" role="menuitem">Lucky Wheel</a>


    <a class="item " href="/hostedPXT/docs/projects/headlamp.html" role="menuitem">Headlamp</a>


    <a class="item " href="/hostedPXT/docs/projects/guitar.html" role="menuitem">Guitar</a>


    <a class="item " href="/hostedPXT/docs/projects/hot-potato.html" role="menuitem">Hot Potato</a>


    <a class="item " href="/hostedPXT/docs/projects/light-monster.html" role="menuitem">Light Monster</a>


    <a class="item " href="/hostedPXT/docs/projects/reaction.html" role="menuitem">Reaction!</a>


    <a class="item " href="/hostedPXT/docs/projects/wearable-neopixels.html" role="menuitem">Wearable NeoPixels</a>


    <a class="item " href="/hostedPXT/docs/projects/fabric-friend.html" role="menuitem">Fabric Friend</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/device.html">Hardware</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/device/simulator.html" role="menuitem">Simulator</a>


    <a class="item " href="/hostedPXT/docs/device/usb.html" role="menuitem">USB</a>

        </div>
    </div>

    </div>
</div>
<!-- end include tocheader.html -->


	<div id="docs" class="pusher">

		<div class="article" id="maincontent">
			<div class="article-inner">

				
<!-- include header.html -->
<div class="ui one column padded grid hideprint">
    <div class="column ui container">
        
    </div>
</div>
<!-- end include header.html -->


				<div class="main ui container fluid mainbody">
					<button id="printbtn" class="circular ui icon right floated button hideprint hidemobile"
						title="Print" aria-label="Print">
						<i class="icon print"></i>
					</button>
					
    <div class="ui text">
        <h1 id="capacitors">Capacitors</h1><p><img class="ui image" src="/static/cp/learn/pins-tutorial/devices/capacitors/header.jpg" alt="CPX with capacitors" loading="lazy"></p>
<p>A capacitor is a device that uses two conductive surfaces to store an electric charge. However, it has a gap between the two surfaces that insulates them from each other. The distance of the gap and the material in the gap (air, glass, mineral, liquid, etc.) isn’t too much though to prevent a strong enough electric field to push on electric charges to make them collect on the surfaces.</p>
<h2 id="what-makes-a-capacitor-">What makes a capacitor?</h2><p>A simple capacitor uses two parallel plates of conductive material separated by an insulator. The insulator is called the <em>dielectric</em> and is some material that will prevent electric current from passing through it. The ability for of an electric field to pass through the dielectric material is a given a measurement value known as <em><strong>ε</strong></em>, called the <em>permittivity</em>. This along with the dimensions of the capacitor plates determine how much charge it can store. What matters is the area of the plates (<em><strong>A</strong></em>) and the distance between them (<em><strong>d</strong></em>). Here’s an illustration of how the parts of a capacitor go together along with their important properties:</p>
<p><img class="ui image" src="/static/cp/learn/pins-tutorial/devices/capacitors/capacitor-device.gif" alt="Parts of a capacitor animation" loading="lazy"></p>
<p>The amount of capacitance (<em><strong>C</strong></em>) a capacitor has depends on the ability of the electric field to influence the charges on its plates, times the area of the conductive surface, divided by the distance between the plates.</p>
<p><code>C = ε * A / d</code></p>
<p>Capacitance is measured in units of <em>Farads (F)</em>. Most of the capacitors used in small, modern electronic circuits are in the <strong>microfarad (uF)</strong> or <strong>picofarad (pF)</strong> range. A picofarad is really small, it’s <code>1 / 1000000000000</code> of a Farad.</p>
<h2 id="electric-field">Electric field </h2><p>At first, a capacitor has an equal amount of both positive and negative charge on each plate. The charges can’t pass to the other plate due to the gap between them that insulates the plates from each other. The gap could be air or some other non-conductive material. Inside the gap, however, is an electric field (<em><strong>E</strong></em>) which directs the force from the battery to push an opposite electric charge to the plates.</p>
<p><img class="ui image" src="/static/cp/learn/pins-tutorial//devices/capacitors/electric-field.gif" alt="Capacitor electric field animation" loading="lazy"></p>
<h2 id="charging">Charging</h2><p>The presence of an electric field between these surfaces forces the charges on the plates to locate themselves closest to the direction of opposite charge. This happens until the capacitor plates are full of opposing charges. The illustration below shows a capacitor with two plates that are oppositely charged by a force of the voltage applied to them. Charges relocate and move to the plate in the direction of their attraction.</p>
<p><img class="ui image" src="/static/cp/learn/pins-tutorial/devices/capacitors/capacitor-charging.gif" alt="Capacitor charging animation" loading="lazy"></p>
<h2 id="rc-time">RC time</h2><p>In reality, a capacitor doesn’t charge immediately. It takes time to charge due to some resistance to the current flowing to or from its plates. For any amount of voltage across the plates of a capacitor it will take some time until it becomes fully charged. Once the capacitor is fully charged, current will stop flowing to it because there’s no more room to accept any new charges. A simple circuit to charge a capacitor is shown in the following diagram.</p>
<p><img class="ui image" src="/static/cp/learn/pins-tutorial/devices/capacitors/rc-circuit.jpg" alt="RC circuit diagram" loading="lazy"></p>
<p>A special value for a capacitor charging circuit is found by multiplying the amount of resistance to it by the capacitance. The result is a time value called the <strong>RC time constant</strong>. As an example, if the resistor is 20k Ohms and the capacitor is 200 pF (picofarads), the RC time constant is:</p>
<p><code>20000 ohms * 2e-10 farads</code> = <code>4 microseconds</code></p>
<p>Using the properties of charge time, we can determine that a capacitor will have more than 99% of its charge after 5 time constants, or <code>5 * RC</code> seconds. In this diagram, the first circuit shows the moment the circuit is closed. Current just starts flowing with 0 volts across the capacitor and it has a balanced charge. The second diagram shows a full charge and no current flowing after a period of 5 RC time constants.</p>
<p><img class="ui image" src="/static/cp/learn/pins-tutorial/devices/capacitors/rc-circuit-charging.jpg" alt="RC circuit diagram charging" loading="lazy"></p>
<p>You see in the second circuit diagram that once the capacitor is fully charged and the current stops, the voltage across it is the same as the supply voltage that provided the charge. Using the values of resistance and capacitance mentioned in the earlier example, the capacitor would charge in about 20 microseconds:</p>
<p><code>5 * RC</code> = <code>5 * 4 microseconds</code> = <code>20 microseconds</code></p>
<p>The following graphs show how a capacitor charges and discharges over time:</p>
<p><img class="ui image" src="/static/cp/learn/pins-tutorial/devices/capacitors/rc-charge-profile.jpg" alt="RC circuit charging graph" loading="lazy"></p>
<p>A capacitor doesn’t charge or discharge at the same rate as time goes on. The voltage across the capacitor follows a “natural” pattern over time until the capacitor is fully charged or discharged. You can tell from the graphs that the rate of charge or discharge really slows down as it approaches the <code>5 * RC</code> amount of time, in this case <code>20 microseconds</code>.</p>
<p>A special number called <em><strong>e</strong></em> is used to calculate the capacitor voltage at any particular moment after charging or discharging begins. This number is known as <em>Euler’s Number</em> and is used in math formulas to model behaviors of the natural world. The value of this number is approximately <code>2.71828</code> and, when combined with the <em><strong>R</strong></em> and <em><strong>C</strong></em> values in a charging circuit, it is used to find the voltage at the capacitor. The voltage across a capacitor is calculated using these formulas:</p>
<ul>
<li>Charging: <code>Vc</code> = <code>Vin * (1 - e ** (t / (R * C)))</code>, where <code>Vin</code> is the voltage used to charge with</li>
<li>Discharging: <code>Vc</code> = <code>Vstart * (e ** (t / (R * C)))</code>, where <code>Vstart</code> is the voltage before discharge</li>
</ul>
<h2 id="experiment-simulate-charge-and-discharge">Experiment: Simulate charge and discharge</h2><hr>
<p>Using values for <em><strong>R</strong></em> and <em><strong>C</strong></em>, along with Euler’s number, you can chart the charge and discharge of a capacitor to see how it behaves over time. Also, multiples of the RC time constant can be matched to the voltage level to see when the capacitor is almost fully charged. For the model simulation, a value of <code>20k ohms</code> is used for <em><strong>R</strong></em> and <code>200pF</code> is used for <em><strong>C</strong></em>. The charge and starting voltage is <code>3.3v</code>.</p>
<p><strong>Setup</strong>: Copy the following code into the editor.</p>
<pre><code class="lang-blocks">let e = 2.71828
let R = 20000
let C = 2e-10
let Vc = 0
let Vin = 3.3
let t = 0
for (let i = 0; i &lt; 75; i++) {
    Vc = Vin * (1 - e ** (t / (R * C)))
    t += -0.0000005
    console.logValue(&quot;Vc&quot;, Vc)
    pause(100)
}
t = 0
Vin = Vc
for (let i = 0; i &lt; 75; i++) {
    Vc = Vin * (e ** (t / (R * C)))
    t += -0.0000005
    console.logValue(&quot;Vc&quot;, Vc)
    pause(100)
} </code></pre>
<p><strong>Test</strong>: Run the code and switch to the data view to see the console output in the chart.</p>
<p><img class="ui image" src="/static/cp/learn/pins-tutorial/devices/capacitors/charge-discharge-sim.jpg" alt="Charge and discharge simulation" loading="lazy"></p>
<p><strong>Result</strong>: The chart shows the charge and discharge patterns over <code>37.5</code> microseconds each. The graph shape shows how the “natural” charge and discharge rate works.</p>
<h2 id="experiment-charge-detector">Experiment: Charge detector</h2><hr>
<p>The charge level on a capacitor can be tracked by checking what voltage is currently on it. A digital output pin can serve as the charge source and an analog input pin can measure the voltage across the capacitor. The capacitor is charged through a resistor. In order to be able to watch the charge level change, the capacitor used is 100 uF and the resistor is from 10k ohms to 40 ohms. If you made your own <a  rel="nofollow noopener" href="/hostedPXT/docs/learnsystem/pins-tutorial/devices/make-a-resistor#input-resistor.html">resistor</a>, it will work well in this experiment.</p>

    <div class="ui info message">
        <div class="content">
            <p>This experiment requires a capacitor that will charge to 100 microfarads (100uF). The best type capacitor to use is an <a target="_blank" rel="nofollow noopener" href="https://www.adafruit.com/product/2193">electrolytic capacitor</a>. Since it’s difficult to make your own capacitor that will hold that much charge, there are no instructions here on how to make one. You’ll need to get one that’s already made.</p>
<p>If a 20k ohm resistor is used with the 100 uF capacitor, the RC time constant is 2 seconds. The entire charge time then is 10 seconds over 5 time constants. Choosing a resistance value between 10k ohms and 40k ohms will give you plenty of time to watch how the capacitor charges and discharges.</p>

        </div>
    </div>
<p><strong>Materials</strong>:</p>
<ul>
<li>(4) <a target="_blank" rel="nofollow noopener" href="https://www.adafruit.com/product/4100">Alligator clip leads</a></li>
<li>A <a target="_blank" rel="nofollow noopener" href="https://www.adafruit.com/product/2892">resistor</a> with a resistance value between 10k ohms and 40k ohms - use you own <a  rel="nofollow noopener" href="/hostedPXT/docs/learnsystem/pins-tutorial/devices/make-a-resistor#input-resistor.html">graphite resistor</a></li>
<li>A <a target="_blank" rel="nofollow noopener" href="https://www.adafruit.com/product/2193">100uF capacitor</a></li>
</ul>
<p><strong>Setup</strong>:</p>
<ol>
<li>Connect one end of an alligator clip lead to the <strong>(-)</strong> lead of the capacitor (on some capacitors it’s the shorter lead). Connect the other end of the alligator lead to the <strong>GND</strong> pin on the board.</li>
<li>Connect one end of different alligator clip lead to the <strong>(+)</strong> lead of the capacitor (on some capacitors it’s the longer lead). Connect the other end of the alligator lead to one end of your resistor.</li>
<li>Get a third alligator clip lead and connect one end to the <strong>(+)</strong> lead of the capacitor also. Connect the other end of that alligator lead to the <strong>A5</strong> pin on the board.</li>
<li>Take one more alligator clip lead and clip it to the other end of your resistor. Clip the unconnected end of the alligator lead to the <strong>A4</strong> pin on the board.</li>
</ol>
<p><img class="ui image" src="/static/cp/learn/pins-tutorial/devices/capacitors/connections.jpg" alt="Connections for the experiment" loading="lazy"></p>
<ol start="6">
<li>Download the following code to the board:</li>
</ol>
<pre><code class="lang-blocks">pins.A4.digitalWrite(false)
input.buttonA.onEvent(ButtonEvent.Click, function () {
    pins.A4.digitalWrite(true)
})
input.buttonB.onEvent(ButtonEvent.Click, function () {
    pins.A4.digitalWrite(false)
})
forever(function () {
    light.graph(pins.A5.analogRead(), 1010)
    pause(200)
})</code></pre>
<p><strong>Test</strong>: Press button <strong>A</strong> to charge the capacitor and watch the pixels light up to show charge level. Press button <strong>B</strong> to discharge the capacitor and watch the pixels turn off as the charge goes away.</p>
<p><strong>Optional Test</strong>: Change the resistance value and repeat the test. Observe how the charge and discharge times are different from the first test.</p>
<p><img class="ui image" src="/static/cp/learn/pins-tutorial/devices/capacitors/charging.gif" alt="Charge percentage is shown on the pixels" loading="lazy"></p>
<p><strong>Result</strong>: Pixels on the board will light up showing the level of charge on the capacitor. Each pixel represents another 10% of charge. Each pixel will take longer to light (or turn off when discharging) than the previous one as the charge rate slows down. The last pixel takes a much longer time to light up than the other pixels. This will relate to the time to charge the final 10% as seen in the flatten part of the graph from the previous experiment.</p>

    </div>

					<div class="hideprint"></div>
				</div>

			</div>

			
<!-- include footer.html -->
<footer class="ui vertical footer segment hideprint docs inverted" aria-hidden="false">
    <div class="ui center aligned container">
        <div class="ui horizontal link list">
            <a
                class="item"
                href="https://twitter.com/intent/follow?screen_name=MsMakeCode"
                title="Follow us on Twitter"
                target="_blank"
                rel="noopener">
                <i class="huge icon twitter"></i>
            </a>
            <a class="item" href="https://www.youtube.com/channel/UCye7YlvFUUQ1dSy0WZZ1T_Q" title="Subscribe to our YouTube channel"
                target="_blank" rel="noopened">
                <i class="huge icon youtube"></i>
            </a>
            <a class="item" href="mailto:makecode@microsoft.com" title="Send us an Email"
                target="_blank" rel="noopened">
                <i class="huge icon mail"></i>
            </a>
        </div>
        <div class="ui section divider"></div>
        <div class="ui container horizontal small divided link list">
            <a id="langpicker" tabindex="0" class="ui item" rel="noopener">
                <i class="icon xicon globe" aria-hidden="true" role="presentation"></i>Language
            </a>
            <a class="item" href="https://makecode.com/privacy" target="_blank" rel="noopener">Privacy &amp; Cookies</a>
            <a class="item" href="https://makecode.com/termsofuse" target="_blank" rel="noopener">Terms Of Use</a>
            <a class="item" href="https://makecode.com/trademarks" target="_blank" rel="noopener">Trademarks</a>
            <span class="item">© 2020 Microsoft</span>
        </div>
        <div class="ui container horizontal small link list poweredBy">
            <span class="item">Powered by</span>
            <a class="middle aligned" href="https://makecode.com/" title="Microsoft MakeCode"
                target="_blank" rel="noopener">
                <img width="100" src="/static/logo/Microsoft-logo_rgb_c-gray.png" alt="Microsoft">
            </a>
        </div>
    </div>
</footer>

<!-- end include footer.html -->


		</div>

	</div>

    
<!-- include langpicker.html -->
<div id="langmodal" class="ui modal docs" role="dialog" aria-modal="true" aria-describedby="langmodalheader" tabindex="-1">
    <h2 id="langmodalheader" class="header">Select Language</h2>
    <div role="button" class="closeIcon" tabindex="0" aria-label="Close">
        <i class="icon close remove circle" aria-hidden="true"></i>
    </div>

	<div class="content">
	    <div class="group">
            <div id="availablelocales" class="ui cards centered" role="listbox" aria-label="List of available locales"></div>
        </div>
        <div class="ui" id="langmodalfooter">
            <a class="ui" href="/hostedPXT/docs/translate.html" target="_blank" rel="noopener noreferrer">
                How do I add a new language?
            </a>

            <a id="translatebtn" class="ui button" role="button" tabindex="0">
                Translate this page
            </a>
        </div>
    </div>
</div>


<!-- end include langpicker.html -->

	
<!-- include macros.html -->
<!-- macro button -->

<!-- macro vimeo -->

<!-- macro youtube -->

<!-- macro section -->

<!-- macro hide -->

<!-- macro avatar -->

<!-- macro hint -->

<!-- macro codecard -->

<!-- macro tutorialhint -->

<!-- macro reminder -->

<!-- macro alert -->

<!-- macro tip -->

<!-- wrapped around ordinary content -->
<!-- macro main-container -->

<!-- used for 'column' box - they are collected and wrapped in 'column-container' -->
<!-- macro column -->
<!-- macro column-container -->


<!-- Menu on the top of the page -->
<!-- macro item -->

<!-- macro divider -->

<!-- TOC in the sidebar -->
<!-- macro item -->

<!-- macro divider -->

<!-- macro toc-dropdown -->

<!-- macro toc-dropdown-noLink -->

<!-- macro toc-dropdown-noHeading -->

<!-- TODO: duplicates of above for compatability with docsrender.ts;
    remove with pxtlib/docsrender.ts TOC TODOs after cloud bump. -->
<!-- macro top-dropdown -->

<!-- macro top-dropdown-noHeading -->

<!-- macro inner-dropdown -->

<!-- macro nested-dropdown -->
<!-- end include macros.html -->

	
<!-- include tracking.html -->
<script type="text/javascript" src="/hostedPXT/pxtweb.js"></script>
<script type="text/javascript">
    window.loadAppInsights = function (includeCookie) {
        var appInsights=window.appInsights||function(config){
            function i(config){t[config]=function(){var i=arguments;t.queue.push(function(){t[config].apply(t,i)})}}var t={config:config},u=document,e=window,o="script",s="AuthenticatedUserContext",h="start",c="stop",l="Track",a=l+"Event",v=l+"Page",y=u.createElement(o),r,f;y.src=config.url||"https://az416426.vo.msecnd.net/scripts/a/ai.0.js";u.getElementsByTagName(o)[0].parentNode.appendChild(y);try{t.cookie=u.cookie}catch(p){}for(t.queue=[],t.version="1.0",r=["Event","Exception","Metric","PageView","Trace","Dependency"];r.length;)i("track"+r.pop());return i("set"+s),i("clear"+s),i(h+a),i(c+a),i(h+v),i(c+v),i("flush"),config.disableExceptionTracking||(r="onerror",i("_"+r),f=e[r],e[r]=function(config,i,u,e,o){var s=f&&f(config,i,u,e,o);return s!==!0&&t["_"+r](config,i,u,e,o),s}),t
        }({
            instrumentationKey:"9801ed01-c40f-46ec-aa40-2a1742a9e71c",
            disableAjaxTracking: true,
            overridePageViewDuration: false,
            disableExceptionTracking: true,
            isCookieUseDisabled: !includeCookie,
            isStorageUseDisabled: !includeCookie,
            url: "/hostedPXT/ai.0.js"
        });
        window.appInsights=appInsights;
        appInsights.queue.push(function () {
            appInsights.context.addTelemetryInitializer(function (envelope) {
                if (typeof pxtConfig === "undefined" || !pxtConfig) return;
                var telemetryItem = envelope.data.baseData;
                telemetryItem.properties = telemetryItem.properties || {};
                telemetryItem.properties["target"] = pxtConfig.targetId;
                telemetryItem.properties["stage"] = (pxtConfig.relprefix || "/--").replace(/[^a-z]/ig, '')
                telemetryItem.properties["cookie"] = includeCookie;
                if (typeof Windows !== "undefined")
                    telemetryItem.properties["WindowsApp"] = 1;
                var userAgent = navigator.userAgent.toLowerCase();
                var userAgentRegexResult = /\belectron\/(\d+\.\d+\.\d+.*?)(?: |$)/i.exec(userAgent); // Example navigator.userAgent: "Mozilla/5.0 Chrome/61.0.3163.100 Electron/2.0.0 Safari/537.36"
                if (userAgentRegexResult) {
                    telemetryItem.properties["Electron"] = 1;
                    telemetryItem.properties["ElectronVersion"] = userAgentRegexResult[1];
                }
                if (typeof pxtElectron !== "undefined") {
                    telemetryItem.properties["PxtElectron"] = 1;
                    telemetryItem.properties["ElectronVersion"] = pxtElectron.versions.electronVersion;
                    telemetryItem.properties["ChromiumVersion"] = pxtElectron.versions.chromiumVersion;
                    telemetryItem.properties["NodeVersion"] = pxtElectron.versions.nodeVersion;
                    telemetryItem.properties["PxtElectronVersion"] = pxtElectron.versions.pxtElectronVersion;
                    telemetryItem.properties["PxtCoreVersion"] = pxtElectron.versions.pxtCoreVersion;
                    telemetryItem.properties["PxtTargetVersion"] = pxtElectron.versions.pxtTargetVersion;
                    telemetryItem.properties["PxtElectronIsProd"] = pxtElectron.versions.isProd;
                }
            });
        });
        appInsights.trackPageView(null, scrubUrl(window.location.toString()), {urlReferrer: scrubUrl(document.referrer.toString())});

        //Scrub the key (if any) from the URL.
        function scrubUrl(url) {
            var scriptIdRegex = /(?:\d{5}-\d{5}-\d{5}-\d{5})|(?:_[0-9a-zA-Z]{12})/g;
            return url.replace(scriptIdRegex, "xxxxx-xxxxx-xxxxx-xxxxx");
        }
    }
    pxt.initAnalyticsAsync();
</script>
<!-- end include tracking.html -->


</body>

</html>