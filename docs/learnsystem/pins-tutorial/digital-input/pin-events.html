<!DOCTYPE html>
<html lang="" xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#"
	xmlns:fb="http://www.facebook.com/2008/fbml">

<head>
	<meta charset="UTF-8">
	<title>Adafruit Circuit Playground Express - Blocks / Javascript editor</title>
	<meta name="Description" content="A Blocks / JavaScript code editor for the Adafruit Circuit Playground Express." />

	<!-- ifdef incontexttranslations endif -->
	
<!-- include meta.html -->
<!-- This file is typically overriden by the target, with own Twitter
     account etc. Most data is taken from the theme file though.  
  -->

<!-- include robotsmeta.html -->

<!-- end include robotsmeta.html -->

<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@msmakecode" />
<meta name="twitter:title" content="Adafruit Circuit Playground Express - Blocks / Javascript editor" />
<meta name="twitter:description" content="A Blocks / JavaScript code editor for the Adafruit Circuit Playground Express." />
<meta name="twitter:image" content="/static/cp/learn/pins-tutorial/digital-input/pulsed-signal.jpg" />

<meta property="og:title" content="Adafruit Circuit Playground Express - Blocks / Javascript editor" />
<meta property="og:site_name" content="Microsoft MakeCode" />
<meta property="og:type" content="website" />
<meta property="og:description" content="A Blocks / JavaScript code editor for the Adafruit Circuit Playground Express." />
<meta property="fb:app_id" content="" />
<meta property="og:image" content="/static/cp/learn/pins-tutorial/digital-input/pulsed-signal.jpg" />

<meta name="format-detection" content="telephone=no">
<link rel="apple-touch-icon" href="docs/static/icons/android-chrome-192x192.png">
<link rel="icon" type="image/png" href="docs/static/icons/android-chrome-192x192.png">
<link rel="shortcut icon" href="docs/static/icons/android-chrome-192x192.png">
<meta name="theme-color" content="#0089BF">

<!-- end include meta.html -->

	
<!-- include head.html -->
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width,height=device-height,user-scalable=no,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0">

<link rel="stylesheet" data-rtl="/blb/rtlsemantic.css" href="/hostedPXT/semantic.css" />
<link id="blocklycss"  data-rtl="/blb/rtlblockly.css" rel="stylesheet" href="/hostedPXT/blockly.css" />
<link rel="stylesheet" href="/hostedPXT/docfiles/style.css" />
<link rel="stylesheet" href="/hostedPXT/docfiles/vs.css" />
<link rel="stylesheet" href="/hostedPXT/docfiles/target.css" />

<script src="/hostedPXT/jquery.js" type="text/javascript"></script>
<script src="/hostedPXT/semantic.js" type="text/javascript"></script>
<script src="/hostedPXT/docfiles/target.js" type="text/javascript"></script>
<script src="/hostedPXT/embed.js" type="text/javascript"></script>
<script src="/hostedPXT/docfiles/docs.js" type="text/javascript"></script>

<style>
    
.ui.accent { color: #0089BF; }
.ui.inverted.accent { background: #0089BF; }

</style>

<!-- end include head.html -->


</head>

<body id='root' class='root'>
	<div id="accessibleMenu" class="ui accessibleMenu borderless fixed menu docs" role="menubar">
		
            <a href="#maincontent" class="ui item link" tabindex="0" role="menuitem">Skip to main content</a>
        
	</div>

	
<!-- include tocheader.html -->
<div id="top-bar" class="ui fixed accent borderless inverted main menu hideprint docs" role="menubar">
    <div>
        
            <a id="togglesidebar" class="launch icon item" tabindex="0" title="Side menu" aria-label="Side menu" role="menuitem" aria-expanded="false">
                <i class="content icon"></i>
            </a>
        
        <div class="item" role="menuitem">
            <div>
                <a href="/hostedPXT/docs/.html" class="header" tabindex="0" title="Go to editor">
                    <img aria-hidden="true" role="presentation" class="ui mini image" src="docs/static/logo.square.svg" />
                </a>
            </div>
            <div>
                Documentation
            </div>
        </div>
    </div>
    <div>
        <div class="item">
            <form id="tocsearch1" class="search" role="form" method="get" action="https://www.bing.com/search">
                <div class="ui fluid icon input">
                    <input type="hidden" name="q1" value="site:https://makecode.adafruit.com/" />
                    
                <input type="search" name="q" placeholder="Search..." aria-label="Search Documentation">
                <i onclick="document.getElementById('tocsearch1').submit();" tabindex="0" class="search link icon" aria-label="Search" role="button"></i>
            
                </div>
            </form>
        </div>
    </div>
</div>

<div id="side-menu" class="ui vertical accent inverted sidebar menu left hideprint docs" role="menubar">
    <!-- TOC Menu (tocheader.html) -->
    <div class="menuContainer" role="menu">
        
    <a class="item " href="/hostedPXT/docs/about.html" role="menuitem">About</a>


    <a class="item " href="/hostedPXT/docs/faq.html" role="menuitem">FAQ</a>


    <a class="item " href="/hostedPXT/docs/projects.html" role="menuitem">Projects</a>


    <a class="item " href="/hostedPXT/docs/github.html" role="menuitem">GitHub</a>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/examples.html">Examples</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/examples/blinky.html" role="menuitem">Blinky</a>


    <a class="item " href="/hostedPXT/docs/examples/animation-shaker.html" role="menuitem">Animation Shaker</a>


    <a class="item " href="/hostedPXT/docs/examples/juggle-counter.html" role="menuitem">Juggle Counter</a>


    <a class="item " href="/hostedPXT/docs/examples/energy-glove.html" role="menuitem">Energy Glove</a>


    <a class="item " href="/hostedPXT/docs/examples/dice.html" role="menuitem">Dice</a>


    <a class="item " href="/hostedPXT/docs/examples/level.html" role="menuitem">Level</a>


    <a class="item " href="/hostedPXT/docs/examples/counter.html" role="menuitem">Counter</a>


    <a class="item " href="/hostedPXT/docs/examples/egg-game.html" role="menuitem">Egg game</a>


    <a class="item " href="/hostedPXT/docs/examples/reaction.html" role="menuitem">Reaction</a>


    <a class="item " href="/hostedPXT/docs/examples/photon-beatbox.html" role="menuitem">Photon beatbox</a>


    <a class="item " href="/hostedPXT/docs/examples/spin-it.html" role="menuitem">Spin it</a>


    <a class="item " href="/hostedPXT/docs/examples/metronome.html" role="menuitem">Metronome</a>


    <a class="item " href="/hostedPXT/docs/examples/beat-visualizer.html" role="menuitem">Beat visualizer</a>


    <a class="item " href="/hostedPXT/docs/examples/fireflies.html" role="menuitem">Fireflies</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/courses.html">Courses</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/courses/maker.html" role="menuitem">Maker</a>


    <a class="item " href="/hostedPXT/docs/learnsystem/pins-tutorial.html" role="menuitem">Using the Pins</a>


    <a class="item " href="/hostedPXT/docs/learnsystem/logic-lab.html" role="menuitem">Logic Lab</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/reference.html">Reference</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/reference/input.html" role="menuitem">input</a>


    <a class="item " href="/hostedPXT/docs/reference/light.html" role="menuitem">light</a>


    <a class="item " href="/hostedPXT/docs/reference/music.html" role="menuitem">music</a>


    <a class="item " href="/hostedPXT/docs/reference/network.html" role="menuitem">network</a>


    <a class="item " href="/hostedPXT/docs/reference/pins.html" role="menuitem">pins</a>


    <a class="item " href="/hostedPXT/docs/reference/control.html" role="menuitem">control</a>


    <a class="item " href="/hostedPXT/docs/reference/console.html" role="menuitem">console</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/blocks.html">Blocks</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/blocks/on-start.html" role="menuitem">On Start</a>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/blocks/loops.html">Loops</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/blocks/loops/repeat.html" role="menuitem">repeat</a>


    <a class="item " href="/hostedPXT/docs/blocks/loops/for.html" role="menuitem">for</a>


    <a class="item " href="/hostedPXT/docs/blocks/loops/while.html" role="menuitem">while</a>


    <a class="item " href="/hostedPXT/docs/blocks/loops/for-of.html" role="menuitem">for of</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/blocks/logic.html">Logic</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/blocks/logic/if.html" role="menuitem">if</a>


    <a class="item " href="/hostedPXT/docs/blocks/logic/boolean.html" role="menuitem">Boolean</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/blocks/variables.html">Variables</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/blocks/variables/assign.html" role="menuitem">assign</a>


    <a class="item " href="/hostedPXT/docs/blocks/variables/change.html" role="menuitem">change var</a>


    <a class="item " href="/hostedPXT/docs/blocks/variables/var.html" role="menuitem">var</a>

        </div>
    </div>


    <a class="item " href="/hostedPXT/docs/blocks/math.html" role="menuitem">Math</a>


    <a class="item " href="/hostedPXT/docs/blocks/javascript-blocks.html" role="menuitem">JavaScript blocks</a>


    <a class="item " href="/hostedPXT/docs/blocks/custom.html" role="menuitem">Custom blocks</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/python.html">Python</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/python/call.html" role="menuitem">Calling</a>


    <a class="item " href="/hostedPXT/docs/python/sequence.html" role="menuitem">Sequencing</a>


    <a class="item " href="/hostedPXT/docs/python/variables.html" role="menuitem">Variables</a>


    <a class="item " href="/hostedPXT/docs/python/operators.html" role="menuitem">Operators</a>


    <a class="item " href="/hostedPXT/docs/python/statements.html" role="menuitem">Statements</a>


    <a class="item " href="/hostedPXT/docs/python/functions.html" role="menuitem">Functions</a>


    <a class="item " href="/hostedPXT/docs/python/classes.html" role="menuitem">Classes</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/javascript.html">JavaScript</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/javascript/call.html" role="menuitem">Calling</a>


    <a class="item " href="/hostedPXT/docs/javascript/sequence.html" role="menuitem">Sequencing</a>


    <a class="item " href="/hostedPXT/docs/javascript/variables.html" role="menuitem">Variables</a>


    <a class="item " href="/hostedPXT/docs/javascript/operators.html" role="menuitem">Operators</a>


    <a class="item " href="/hostedPXT/docs/javascript/statements.html" role="menuitem">Statements</a>


    <a class="item " href="/hostedPXT/docs/javascript/functions.html" role="menuitem">Functions</a>


    <a class="item " href="/hostedPXT/docs/javascript/types.html" role="menuitem">Types</a>


    <a class="item " href="/hostedPXT/docs/javascript/classes.html" role="menuitem">Classes</a>


    <a class="item " href="/hostedPXT/docs/javascript/interfaces.html" role="menuitem">Interfaces</a>


    <a class="item " href="/hostedPXT/docs/javascript/generics.html" role="menuitem">Generics</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/types.html">Types</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/types/number.html" role="menuitem">Number</a>


    <a class="item " href="/hostedPXT/docs/types/string.html" role="menuitem">String</a>


    <a class="item " href="/hostedPXT/docs/types/boolean.html" role="menuitem">Boolean</a>


    <a class="item " href="/hostedPXT/docs/types/array.html" role="menuitem">Array</a>


    <a class="item " href="/hostedPXT/docs/types/function.html" role="menuitem">Function</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="">Miscellaneous</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/about.html" role="menuitem">About</a>


    <a class="item " href="/hostedPXT/docs/support.html" role="menuitem">Support</a>


    <a class="item " href="/hostedPXT/docs/translate.html" role="menuitem">Translate</a>


    <a class="item " href="/hostedPXT/docs/share.html" role="menuitem">Sharing projects</a>


    <a class="item " href="/hostedPXT/docs/offline.html" role="menuitem">Offline support</a>


    <a class="item " href="/hostedPXT/docs/save.html" role="menuitem">Save</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="">Developers</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/cli.html" role="menuitem">Command Line Interface</a>


    <a class="item " href="/hostedPXT/docs/code.html" role="menuitem">Visual Studio Code support</a>


    <a class="item " href="/hostedPXT/docs/blocks-embed.html" role="menuitem">Blocks Embed</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/projects.html">Projects</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/projects/magic-wand.html" role="menuitem">Magic Wand</a>


    <a class="item " href="/hostedPXT/docs/projects/dandelion.html" role="menuitem">Dandelion</a>


    <a class="item " href="/hostedPXT/docs/projects/fidget-spinner.html" role="menuitem">Fidget Spinner</a>


    <a class="item " href="/hostedPXT/docs/projects/watch-timer.html" role="menuitem">Watch Timer</a>


    <a class="item " href="/hostedPXT/docs/projects/lucky-wheel.html" role="menuitem">Lucky Wheel</a>


    <a class="item " href="/hostedPXT/docs/projects/headlamp.html" role="menuitem">Headlamp</a>


    <a class="item " href="/hostedPXT/docs/projects/guitar.html" role="menuitem">Guitar</a>


    <a class="item " href="/hostedPXT/docs/projects/hot-potato.html" role="menuitem">Hot Potato</a>


    <a class="item " href="/hostedPXT/docs/projects/light-monster.html" role="menuitem">Light Monster</a>


    <a class="item " href="/hostedPXT/docs/projects/reaction.html" role="menuitem">Reaction!</a>


    <a class="item " href="/hostedPXT/docs/projects/wearable-neopixels.html" role="menuitem">Wearable NeoPixels</a>


    <a class="item " href="/hostedPXT/docs/projects/fabric-friend.html" role="menuitem">Fabric Friend</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/device.html">Hardware</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/device/simulator.html" role="menuitem">Simulator</a>


    <a class="item " href="/hostedPXT/docs/device/usb.html" role="menuitem">USB</a>

        </div>
    </div>

    </div>
</div>
<!-- end include tocheader.html -->


	<div id="docs" class="pusher">

		<div class="article" id="maincontent">
			<div class="article-inner">

				
<!-- include header.html -->
<div class="ui one column padded grid hideprint">
    <div class="column ui container">
        
    </div>
</div>
<!-- end include header.html -->


				<div class="main ui container fluid mainbody">
					<button id="printbtn" class="circular ui icon right floated button hideprint hidemobile"
						title="Print" aria-label="Print">
						<i class="icon print"></i>
					</button>
					
    <div class="ui text">
        <h1 id="pin-events">Pin events</h1><p>Instead of continually reading the value of a pin input, you can have code that runs when an input level changes on a pin. These are pin events and they are triggered when an input switches from one level to another or if the input level is beginning to change.</p>
<h2 id="pulses">Pulses</h2><p>Information is often communicated between digital circuits using <em>pulses</em>. A pulse is a change in voltage level for brief period time. Usually for microseconds or even a shorter amount of time, like nanoseconds.</p>
<h3 id="data-signals">Digital data signals </h3><p>Data is transmitted between digital circuits using changes between high and low voltage levels. A change to high can mean a signal for the value of <code>1</code>. The change down to low can mean a signal for the value of <code>0</code>. One of these signals, a pulse, can represent a binary digit, or <em>bit</em>. Combining several digital signals will form a binary number which can represent some type of data, such as a <a  rel="nofollow noopener" href="/hostedPXT/docs/types/number.html">number</a> or <a  rel="nofollow noopener" href="/hostedPXT/docs/types/string.html">text character</a>.</p>
<p>In the diagram below, a pulse is created every 4 microseconds to signal a binary digit. If the value of the <strong>A1</strong> pin is read repeatedly at the proper time, a binary number can be assembled. Here, the first digit is a <code>1</code>, the second a <code>0</code>, and then <code>1</code> and another <code>1</code>. Together they form the binary number <code>1101</code> when each bit received is the next greater digit of the number. This is a 4 bit number is which equals <code>13</code> in decimal. </p>
<p><img class="ui image" src="/static/cp/learn/pins-tutorial/digital-input/pulsed-signal.jpg" alt="Pulsed data signal" loading="lazy"></p>
<p>Another way to signal data is to keep the signal level constant while the a value represented is the same. More values  might be read by pin <strong>A1</strong> in the same amount of time using this method.</p>
<p><img class="ui image" src="/static/cp/learn/pins-tutorial/digital-input/logic-level-signal.jpg" alt="Logic level data signal" loading="lazy"></p>
<p>There are many more ways to signal digital data. Transmiting and receiving data by digital signals is part of the science of <em>data communications</em>.</p>
<h3 id="clock-signals">Clock signals </h3><p>The timing events is an important part of digital electronics. Actions in a computer are sequenced by a system clock. This clock is actually a digital signal using continuous pulses that occur at a regular interval. In fact, each part of a program on your Adafruit Circuit Playground Express is run in the microcontoller at a certain time that’s controlled by a clock signal. A clock signal received by the <strong>A2</strong> pin is shown in the following diagram.</p>
<p><img class="ui image" src="/static/cp/learn/pins-tutorial/digital-input/clock-signal.jpg" alt="Clock signal pulses" loading="lazy"></p>
<p>A pulse going high occurs during a 2 microsecond period of time. The pulses repeat their shape every 4 microseconds though. This 4 microsecond time span is also the <em>period</em> of the clock signal which makes it have a <em>frequency</em> of 250 kilohertz (kHz). The clock signal on your Adafruit Circuit Playground Express repeats itself millions of times a second so it’s measured in megahertz (mHz).</p>
<p>Often a clock signal is received at one pin in order to to tell your program when to read a data signal at another pin. If the <strong>A1</strong> pin is receiving a data signal and the <strong>A2</strong> pin input is a clock signal, then the input at <strong>A1</strong> is valid when a pin event happens at <strong>A2</strong>. This is called <em>clocking</em> the input, or you can say that pin <strong>A1</strong> is a <em>clocked</em> input.</p>
<h2 id="triggers">Triggers </h2><p>Other pin events aren’t used to receive any data but are just for notification. These are trigger events that happen during a very short amount of time when the pin input changes levels. A trigger signal can be a either a short pulse or a long steady signal. In either case, the pin is set to only detect the change of voltage from low to high or high to low. This is like a quick wake up alarm to tell a waiting program to take some action.</p>
<p><img class="ui image" src="/static/cp/learn/pins-tutorial/digital-input/triggering-signal.jpg" alt="Triggering signal" loading="lazy"></p>
<h2 id="pulse-events">Pulse events</h2><p>You can have your program wait for a pin input to be pulsed. A pulse is detected at a pin if the input level changes to high or low, stays that way for some amount of time, and then returns back to the input level where it was before. The amount of time that the pin is at this new logic level is called the <em>pulse width</em>. This is the period of time between when the new input level is detected and when it starts to change back again.</p>
<p>There are two events to detect a pulse:</p>
<pre><code class="lang-block">pins.A1.onEvent(PinEvent.PulseHigh, function () {

})
pins.A1.onEvent(PinEvent.PulseLow, function () {

})</code></pre>
<h3 id="pulse-high">Pulse high</h3><p>The <code>||pins:on pin pulse high||</code> event occurs when the pin input changes to the high level, stays there for some time, and then drops back to low. This diagram shows that the pin <strong>A1</strong> input went to the high level and stayed there for 2 microseconds. If there was a pin event for pulse high in your program, the code inside would’ve executed right after the 2 microseconds passed and the input level started to fall to low.</p>
<p><img class="ui image" src="/static/cp/learn/pins-tutorial/digital-input/pin-event-high.jpg" alt="Pin pulse high event diagram" loading="lazy"></p>
<p>Let’s say that our Adafruit Circuit Playground Express is connected to an anemometer, a device to that measures wind speed. The anenometer signals one pulse every time that its cup wheel spins for one rotation. The diameter of the anemometer cup wheel is <code>10</code> centmeters. We can calculate the current revolutions per minute (RPM) of the anemometer by counting the number of rotations for some amount of time.</p>
<pre><code class="lang-blocks">let windSpeed = 0
let rotations = 0
pins.A1.setPull(PinPullMode.PullDown)
pins.A1.onEvent(PinEvent.PulseHigh, function () {
    rotations += 1
})
loops.forever(function () {
    pause(15000)
    windSpeed = (rotations * 4 * 60) * (2 * 3.14159 * 5) / 100000
    rotations = 0
})</code></pre>
<p>If we check the number of rotations every <code>15</code> seconds, then the current average wind speed (km/h) is: <code>windSpeed = (4 * rotations * 60) * (2 * PI * 5) / 100000</code>.</p>
<h3 id="pulse-low">Pulse low</h3><p>The <code>||pins:on pin pulse low||</code> event works in the same way as <code>||pins:on pin pulse high||</code> except that the pulse is detected when the input voltage on the pin is near the low level. The diagram shows that the pin <strong>A1</strong> input went to the low level and stayed there for 2 microseconds. If there was a pin event for pulse low in your program, the code inside would’ve executed right after the 2 microseconds passed and the input level started to rise to high.</p>
<p><img class="ui image" src="/static/cp/learn/pins-tutorial/digital-input/pin-event-low.jpg" alt="Falling input pin event" loading="lazy"></p>
<p>The pulse low event can be used for a negative logic signal. For example, a pushbutton or keypad switch could ground a pin input (set the pin voltage to <strong>GND</strong>) to signal a key press. You could code a key press event like this:</p>
<pre><code class="lang-blocks">let keyPresses: string[] = []
let keyTime = 100000
pins.A1.setPull(PinPullMode.PullUp)
pins.A1.onEvent(PinEvent.PulseLow, function () {
    if (pins.pulseDuration() &gt; keyTime) {
        keyPresses.push(&quot;A1&quot;)
    }
})</code></pre>
<p>If we had a rule that the valid time for a key press was at least one-tenth of a second long, then we can add a check for the pulse duration to see if the pulse lasted for more than <code>100000</code> microseconds. This is the pulse width for the key press.</p>
<h3 id="pulse-width">Pulse width</h3><p>To find out how long a pulse lasted, you can read the duration of the last pulse. You do this inside the event where the pulse type was detected using <code>||pins:pulse duration||</code>.</p>
<pre><code class="lang-blocks">let pulseTime = 0
pins.A1.onEvent(PinEvent.PulseHigh, function () {
    pulseTime = pins.pulseDuration()
})</code></pre>
<p>A pulse can also be used to encode a value. If a pin is expecting a pulse input to happen at a regular interval, the width of the pulse can change to be a fraction of the interval time. This fraction, or ratio, represents a percentage of the total interval time. If the an interval is 100 milliseconds, a pulse width of 40 milliseconds is 40% of the interval. If the pulse width changes, different ratios are input and can represent different values. This type of signalling is used for <em>pulse width modulation (pwm)</em>.</p>
<h2 id="signal-edge-events">Signal edge events</h2><p>A pulse event has a duration which my last too long to properly signal a new level change if data inputs are happening rapidly. Instead of waiting for a full pulse to occur before the pin event happens, you can have an event for <em>edge detection</em>. An edge event happens when there is just a change the in input level. This type of signal was shown in the diagram for <a  rel="nofollow noopener" href="/hostedPXT/docs/learnsystem/pins-tutorial/digital-input/pin-events#triggers.html">Triggers</a>. If the pin input is changing from low to high, the input is <em>rising</em>. When the input level is going from high to low then the input is <em>falling</em>. The events for these are called edge events because they happen at the edge of the signal pattern when shown on a diagram.</p>
<p>Here are the events for edge detection:</p>
<pre><code class="lang-block">pins.A1.onEvent(PinEvent.Rise, function () {

})
pins.A1.onEvent(PinEvent.Fall, function () {

})</code></pre>
<h3 id="rising-edge">Rising edge</h3><p>If drawn in a diagram, the change in pin input from low to high creates an edge on the signal pattern that’s like climbing a hill or going up a cliff side. This is the part of the diagram that shows the signal <em>rising</em>. If the input voltage goes from <strong>GND</strong> to  <strong>3.3V</strong>, the pin can be set to detect this change.</p>
<p><img class="ui image" src="/static/cp/learn/pins-tutorial/digital-input/pin-event-rise.jpg" alt="Rising input pin event" loading="lazy"></p>
<p>When a pin is receiving pulse inputs, an <code>||pins:on pin rise||</code> will trigger at the beginning of the pulse. This is useful for detecting the next period of a clock signal input. If you are using a pulse event, the pin event would only occur after each pulse duration. That was 2 microseconds in the <a  rel="nofollow noopener" href="/hostedPXT/docs/learnsystem/pins-tutorial/digital-input/pin-events#clock-signals.html">Clock signals</a> example. If a <code>rise</code> event is used, the event will trigger only at the beginning of each clock cycle which is every 4 microseconds.</p>
<p>If we want to code an event to read digital numbers from a pin (as discussed in <a  rel="nofollow noopener" href="/hostedPXT/docs/learnsystem/pins-tutorial/digital-input/pin-events#data-signals.html">Digital data signals</a>), we could put it in a <code>||pins:on pin rise||</code> event. We’ll code the event for the clock signal on pin <strong>A2</strong> and the data signal is read from <strong>A1</strong>. The bits are accumulated until an 8 bit number is formed. Then, each 8 bit number is stored in a data array.</p>
<pre><code class="lang-blocks">let pinData: number[] = []
let digitalNum = 0
let bits = 0
pins.A2.onEvent(PinEvent.Rise, function () {
    if (bits &gt; 7) {
        pinData.push(digitalNum)
        digitalNum = 0
        bits = 0
    }
    digitalNum = digitalNum * 2
    if (pins.A1.digitalRead()) {
        digitalNum += 1
    }
    bits += 1
})</code></pre>
<h3 id="falling-edge">Falling edge</h3><p>A pin can detect when an input signal is changing from a high to low voltage level (<strong>3.3V</strong> to <strong>GND</strong>). This is shown in a signal diagram as going down a hill or a cliff. This is called the <em>falling</em> edge of the signal. When the pin input is a pulse, the falling edge is the when the pulse ends.</p>
<p><img class="ui image" src="/static/cp/learn/pins-tutorial/digital-input/pin-event-fall.jpg" alt="Falling input pin event" loading="lazy"></p>
<p>As an example, you could have a micro switch next to a doorway that breaks a closed circuit from pin <strong>A1</strong> to <strong>3.3V</strong> when the door is opened. The input from the switch changing could signal an entry alarm. If the door is opened, the switch causes the input at the pin to go to <strong>GND</strong>, or to fall.</p>
<pre><code class="lang-blocks">pins.A1.onEvent(PinEvent.Fall, function () {
    light.showAnimation(light.rainbowAnimation, 500)
    music.wawawawaa.play()
})
pins.A1.setPull(PinPullMode.PullDown)</code></pre>

    </div>

					<div class="hideprint"></div>
				</div>

			</div>

			
<!-- include footer.html -->
<footer class="ui vertical footer segment hideprint docs inverted" aria-hidden="false">
    <div class="ui center aligned container">
        <div class="ui horizontal link list">
            <a
                class="item"
                href="https://twitter.com/intent/follow?screen_name=MsMakeCode"
                title="Follow us on Twitter"
                target="_blank"
                rel="noopener">
                <i class="huge icon twitter"></i>
            </a>
            <a class="item" href="https://www.youtube.com/channel/UCye7YlvFUUQ1dSy0WZZ1T_Q" title="Subscribe to our YouTube channel"
                target="_blank" rel="noopened">
                <i class="huge icon youtube"></i>
            </a>
            <a class="item" href="mailto:makecode@microsoft.com" title="Send us an Email"
                target="_blank" rel="noopened">
                <i class="huge icon mail"></i>
            </a>
        </div>
        <div class="ui section divider"></div>
        <div class="ui container horizontal small divided link list">
            <a id="langpicker" tabindex="0" class="ui item" rel="noopener">
                <i class="icon xicon globe" aria-hidden="true" role="presentation"></i>Language
            </a>
            <a class="item" href="https://makecode.com/privacy" target="_blank" rel="noopener">Privacy &amp; Cookies</a>
            <a class="item" href="https://makecode.com/termsofuse" target="_blank" rel="noopener">Terms Of Use</a>
            <a class="item" href="https://makecode.com/trademarks" target="_blank" rel="noopener">Trademarks</a>
            <span class="item">© 2020 Microsoft</span>
        </div>
        <div class="ui container horizontal small link list poweredBy">
            <span class="item">Powered by</span>
            <a class="middle aligned" href="https://makecode.com/" title="Microsoft MakeCode"
                target="_blank" rel="noopener">
                <img width="100" src="/static/logo/Microsoft-logo_rgb_c-gray.png" alt="Microsoft">
            </a>
        </div>
    </div>
</footer>

<!-- end include footer.html -->


		</div>

	</div>

    
<!-- include langpicker.html -->
<div id="langmodal" class="ui modal docs" role="dialog" aria-modal="true" aria-describedby="langmodalheader" tabindex="-1">
    <h2 id="langmodalheader" class="header">Select Language</h2>
    <div role="button" class="closeIcon" tabindex="0" aria-label="Close">
        <i class="icon close remove circle" aria-hidden="true"></i>
    </div>

	<div class="content">
	    <div class="group">
            <div id="availablelocales" class="ui cards centered" role="listbox" aria-label="List of available locales"></div>
        </div>
        <div class="ui" id="langmodalfooter">
            <a class="ui" href="/hostedPXT/docs/translate.html" target="_blank" rel="noopener noreferrer">
                How do I add a new language?
            </a>

            <a id="translatebtn" class="ui button" role="button" tabindex="0">
                Translate this page
            </a>
        </div>
    </div>
</div>


<!-- end include langpicker.html -->

	
<!-- include macros.html -->
<!-- macro button -->

<!-- macro vimeo -->

<!-- macro youtube -->

<!-- macro section -->

<!-- macro hide -->

<!-- macro avatar -->

<!-- macro hint -->

<!-- macro codecard -->

<!-- macro tutorialhint -->

<!-- macro reminder -->

<!-- macro alert -->

<!-- macro tip -->

<!-- wrapped around ordinary content -->
<!-- macro main-container -->

<!-- used for 'column' box - they are collected and wrapped in 'column-container' -->
<!-- macro column -->
<!-- macro column-container -->


<!-- Menu on the top of the page -->
<!-- macro item -->

<!-- macro divider -->

<!-- TOC in the sidebar -->
<!-- macro item -->

<!-- macro divider -->

<!-- macro toc-dropdown -->

<!-- macro toc-dropdown-noLink -->

<!-- macro toc-dropdown-noHeading -->

<!-- TODO: duplicates of above for compatability with docsrender.ts;
    remove with pxtlib/docsrender.ts TOC TODOs after cloud bump. -->
<!-- macro top-dropdown -->

<!-- macro top-dropdown-noHeading -->

<!-- macro inner-dropdown -->

<!-- macro nested-dropdown -->
<!-- end include macros.html -->

	
<!-- include tracking.html -->
<script type="text/javascript" src="/hostedPXT/pxtweb.js"></script>
<script type="text/javascript">
    window.loadAppInsights = function (includeCookie) {
        var appInsights=window.appInsights||function(config){
            function i(config){t[config]=function(){var i=arguments;t.queue.push(function(){t[config].apply(t,i)})}}var t={config:config},u=document,e=window,o="script",s="AuthenticatedUserContext",h="start",c="stop",l="Track",a=l+"Event",v=l+"Page",y=u.createElement(o),r,f;y.src=config.url||"https://az416426.vo.msecnd.net/scripts/a/ai.0.js";u.getElementsByTagName(o)[0].parentNode.appendChild(y);try{t.cookie=u.cookie}catch(p){}for(t.queue=[],t.version="1.0",r=["Event","Exception","Metric","PageView","Trace","Dependency"];r.length;)i("track"+r.pop());return i("set"+s),i("clear"+s),i(h+a),i(c+a),i(h+v),i(c+v),i("flush"),config.disableExceptionTracking||(r="onerror",i("_"+r),f=e[r],e[r]=function(config,i,u,e,o){var s=f&&f(config,i,u,e,o);return s!==!0&&t["_"+r](config,i,u,e,o),s}),t
        }({
            instrumentationKey:"9801ed01-c40f-46ec-aa40-2a1742a9e71c",
            disableAjaxTracking: true,
            overridePageViewDuration: false,
            disableExceptionTracking: true,
            isCookieUseDisabled: !includeCookie,
            isStorageUseDisabled: !includeCookie,
            url: "/hostedPXT/ai.0.js"
        });
        window.appInsights=appInsights;
        appInsights.queue.push(function () {
            appInsights.context.addTelemetryInitializer(function (envelope) {
                if (typeof pxtConfig === "undefined" || !pxtConfig) return;
                var telemetryItem = envelope.data.baseData;
                telemetryItem.properties = telemetryItem.properties || {};
                telemetryItem.properties["target"] = pxtConfig.targetId;
                telemetryItem.properties["stage"] = (pxtConfig.relprefix || "/--").replace(/[^a-z]/ig, '')
                telemetryItem.properties["cookie"] = includeCookie;
                if (typeof Windows !== "undefined")
                    telemetryItem.properties["WindowsApp"] = 1;
                var userAgent = navigator.userAgent.toLowerCase();
                var userAgentRegexResult = /\belectron\/(\d+\.\d+\.\d+.*?)(?: |$)/i.exec(userAgent); // Example navigator.userAgent: "Mozilla/5.0 Chrome/61.0.3163.100 Electron/2.0.0 Safari/537.36"
                if (userAgentRegexResult) {
                    telemetryItem.properties["Electron"] = 1;
                    telemetryItem.properties["ElectronVersion"] = userAgentRegexResult[1];
                }
                if (typeof pxtElectron !== "undefined") {
                    telemetryItem.properties["PxtElectron"] = 1;
                    telemetryItem.properties["ElectronVersion"] = pxtElectron.versions.electronVersion;
                    telemetryItem.properties["ChromiumVersion"] = pxtElectron.versions.chromiumVersion;
                    telemetryItem.properties["NodeVersion"] = pxtElectron.versions.nodeVersion;
                    telemetryItem.properties["PxtElectronVersion"] = pxtElectron.versions.pxtElectronVersion;
                    telemetryItem.properties["PxtCoreVersion"] = pxtElectron.versions.pxtCoreVersion;
                    telemetryItem.properties["PxtTargetVersion"] = pxtElectron.versions.pxtTargetVersion;
                    telemetryItem.properties["PxtElectronIsProd"] = pxtElectron.versions.isProd;
                }
            });
        });
        appInsights.trackPageView(null, scrubUrl(window.location.toString()), {urlReferrer: scrubUrl(document.referrer.toString())});

        //Scrub the key (if any) from the URL.
        function scrubUrl(url) {
            var scriptIdRegex = /(?:\d{5}-\d{5}-\d{5}-\d{5})|(?:_[0-9a-zA-Z]{12})/g;
            return url.replace(scriptIdRegex, "xxxxx-xxxxx-xxxxx-xxxxx");
        }
    }
    pxt.initAnalyticsAsync();
</script>
<!-- end include tracking.html -->


</body>

</html>