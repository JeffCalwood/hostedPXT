<!DOCTYPE html>
<html lang="" xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#"
	xmlns:fb="http://www.facebook.com/2008/fbml">

<head>
	<meta charset="UTF-8">
	<title>Adafruit Circuit Playground Express - Blocks / Javascript editor</title>
	<meta name="Description" content="Adafruit Circuit Playground Express Fabric Friend: coding activity" />

	<!-- ifdef incontexttranslations endif -->
	
<!-- include meta.html -->
<!-- This file is typically overriden by the target, with own Twitter
     account etc. Most data is taken from the theme file though.  
  -->

<!-- include robotsmeta.html -->

<!-- end include robotsmeta.html -->

<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@msmakecode" />
<meta name="twitter:title" content="Adafruit Circuit Playground Express - Blocks / Javascript editor" />
<meta name="twitter:description" content="Adafruit Circuit Playground Express Fabric Friend: coding activity" />
<meta name="twitter:image" content="https://img.youtube.com/vi/-sgF1Fzbc9E/0.jpg" />

<meta property="og:title" content="Adafruit Circuit Playground Express - Blocks / Javascript editor" />
<meta property="og:site_name" content="Microsoft MakeCode" />
<meta property="og:type" content="website" />
<meta property="og:description" content="Adafruit Circuit Playground Express Fabric Friend: coding activity" />
<meta property="fb:app_id" content="" />
<meta property="og:image" content="https://img.youtube.com/vi/-sgF1Fzbc9E/0.jpg" />

<meta name="format-detection" content="telephone=no">
<link rel="apple-touch-icon" href="docs/static/icons/android-chrome-192x192.png">
<link rel="icon" type="image/png" href="docs/static/icons/android-chrome-192x192.png">
<link rel="shortcut icon" href="docs/static/icons/android-chrome-192x192.png">
<meta name="theme-color" content="#0089BF">

<!-- end include meta.html -->

	
<!-- include head.html -->
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width,height=device-height,user-scalable=no,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0">

<link rel="stylesheet" data-rtl="/blb/rtlsemantic.css" href="/hostedPXT/semantic.css" />
<link id="blocklycss"  data-rtl="/blb/rtlblockly.css" rel="stylesheet" href="/hostedPXT/blockly.css" />
<link rel="stylesheet" href="/hostedPXT/docfiles/style.css" />
<link rel="stylesheet" href="/hostedPXT/docfiles/vs.css" />
<link rel="stylesheet" href="/hostedPXT/docfiles/target.css" />

<script src="/hostedPXT/jquery.js" type="text/javascript"></script>
<script src="/hostedPXT/semantic.js" type="text/javascript"></script>
<script src="/hostedPXT/docfiles/target.js" type="text/javascript"></script>
<script src="/hostedPXT/embed.js" type="text/javascript"></script>
<script src="/hostedPXT/docfiles/docs.js" type="text/javascript"></script>

<style>
    
.ui.accent { color: #0089BF; }
.ui.inverted.accent { background: #0089BF; }

</style>

<!-- end include head.html -->


</head>

<body id='root' class='root'>
	<div id="accessibleMenu" class="ui accessibleMenu borderless fixed menu docs" role="menubar">
		
            <a href="#maincontent" class="ui item link" tabindex="0" role="menuitem">Skip to main content</a>
        
	</div>

	
<!-- include tocheader.html -->
<div id="top-bar" class="ui fixed accent borderless inverted main menu hideprint docs" role="menubar">
    <div>
        
            <a id="togglesidebar" class="launch icon item" tabindex="0" title="Side menu" aria-label="Side menu" role="menuitem" aria-expanded="false">
                <i class="content icon"></i>
            </a>
        
        <div class="item" role="menuitem">
            <div>
                <a href="/hostedPXT/docs/.html" class="header" tabindex="0" title="Go to editor">
                    <img aria-hidden="true" role="presentation" class="ui mini image" src="docs/static/logo.square.svg" />
                </a>
            </div>
            <div>
                Documentation
            </div>
        </div>
    </div>
    <div>
        <div class="item">
            <form id="tocsearch1" class="search" role="form" method="get" action="https://www.bing.com/search">
                <div class="ui fluid icon input">
                    <input type="hidden" name="q1" value="site:https://makecode.adafruit.com/" />
                    
                <input type="search" name="q" placeholder="Search..." aria-label="Search Documentation">
                <i onclick="document.getElementById('tocsearch1').submit();" tabindex="0" class="search link icon" aria-label="Search" role="button"></i>
            
                </div>
            </form>
        </div>
    </div>
</div>

<div id="side-menu" class="ui vertical accent inverted sidebar menu left hideprint docs" role="menubar">
    <!-- TOC Menu (tocheader.html) -->
    <div class="menuContainer" role="menu">
        
    <a class="item " href="/hostedPXT/docs/about.html" role="menuitem">About</a>


    <a class="item " href="/hostedPXT/docs/faq.html" role="menuitem">FAQ</a>


    <a class="item " href="/hostedPXT/docs/projects.html" role="menuitem">Projects</a>


    <a class="item " href="/hostedPXT/docs/github.html" role="menuitem">GitHub</a>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/examples.html">Examples</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/examples/blinky.html" role="menuitem">Blinky</a>


    <a class="item " href="/hostedPXT/docs/examples/animation-shaker.html" role="menuitem">Animation Shaker</a>


    <a class="item " href="/hostedPXT/docs/examples/juggle-counter.html" role="menuitem">Juggle Counter</a>


    <a class="item " href="/hostedPXT/docs/examples/energy-glove.html" role="menuitem">Energy Glove</a>


    <a class="item " href="/hostedPXT/docs/examples/dice.html" role="menuitem">Dice</a>


    <a class="item " href="/hostedPXT/docs/examples/level.html" role="menuitem">Level</a>


    <a class="item " href="/hostedPXT/docs/examples/counter.html" role="menuitem">Counter</a>


    <a class="item " href="/hostedPXT/docs/examples/egg-game.html" role="menuitem">Egg game</a>


    <a class="item " href="/hostedPXT/docs/examples/reaction.html" role="menuitem">Reaction</a>


    <a class="item " href="/hostedPXT/docs/examples/photon-beatbox.html" role="menuitem">Photon beatbox</a>


    <a class="item " href="/hostedPXT/docs/examples/spin-it.html" role="menuitem">Spin it</a>


    <a class="item " href="/hostedPXT/docs/examples/metronome.html" role="menuitem">Metronome</a>


    <a class="item " href="/hostedPXT/docs/examples/beat-visualizer.html" role="menuitem">Beat visualizer</a>


    <a class="item " href="/hostedPXT/docs/examples/fireflies.html" role="menuitem">Fireflies</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/courses.html">Courses</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/courses/maker.html" role="menuitem">Maker</a>


    <a class="item " href="/hostedPXT/docs/learnsystem/pins-tutorial.html" role="menuitem">Using the Pins</a>


    <a class="item " href="/hostedPXT/docs/learnsystem/logic-lab.html" role="menuitem">Logic Lab</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/reference.html">Reference</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/reference/input.html" role="menuitem">input</a>


    <a class="item " href="/hostedPXT/docs/reference/light.html" role="menuitem">light</a>


    <a class="item " href="/hostedPXT/docs/reference/music.html" role="menuitem">music</a>


    <a class="item " href="/hostedPXT/docs/reference/network.html" role="menuitem">network</a>


    <a class="item " href="/hostedPXT/docs/reference/pins.html" role="menuitem">pins</a>


    <a class="item " href="/hostedPXT/docs/reference/control.html" role="menuitem">control</a>


    <a class="item " href="/hostedPXT/docs/reference/console.html" role="menuitem">console</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/blocks.html">Blocks</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/blocks/on-start.html" role="menuitem">On Start</a>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/blocks/loops.html">Loops</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/blocks/loops/repeat.html" role="menuitem">repeat</a>


    <a class="item " href="/hostedPXT/docs/blocks/loops/for.html" role="menuitem">for</a>


    <a class="item " href="/hostedPXT/docs/blocks/loops/while.html" role="menuitem">while</a>


    <a class="item " href="/hostedPXT/docs/blocks/loops/for-of.html" role="menuitem">for of</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/blocks/logic.html">Logic</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/blocks/logic/if.html" role="menuitem">if</a>


    <a class="item " href="/hostedPXT/docs/blocks/logic/boolean.html" role="menuitem">Boolean</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/blocks/variables.html">Variables</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/blocks/variables/assign.html" role="menuitem">assign</a>


    <a class="item " href="/hostedPXT/docs/blocks/variables/change.html" role="menuitem">change var</a>


    <a class="item " href="/hostedPXT/docs/blocks/variables/var.html" role="menuitem">var</a>

        </div>
    </div>


    <a class="item " href="/hostedPXT/docs/blocks/math.html" role="menuitem">Math</a>


    <a class="item " href="/hostedPXT/docs/blocks/javascript-blocks.html" role="menuitem">JavaScript blocks</a>


    <a class="item " href="/hostedPXT/docs/blocks/custom.html" role="menuitem">Custom blocks</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/python.html">Python</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/python/call.html" role="menuitem">Calling</a>


    <a class="item " href="/hostedPXT/docs/python/sequence.html" role="menuitem">Sequencing</a>


    <a class="item " href="/hostedPXT/docs/python/variables.html" role="menuitem">Variables</a>


    <a class="item " href="/hostedPXT/docs/python/operators.html" role="menuitem">Operators</a>


    <a class="item " href="/hostedPXT/docs/python/statements.html" role="menuitem">Statements</a>


    <a class="item " href="/hostedPXT/docs/python/functions.html" role="menuitem">Functions</a>


    <a class="item " href="/hostedPXT/docs/python/classes.html" role="menuitem">Classes</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/javascript.html">JavaScript</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/javascript/call.html" role="menuitem">Calling</a>


    <a class="item " href="/hostedPXT/docs/javascript/sequence.html" role="menuitem">Sequencing</a>


    <a class="item " href="/hostedPXT/docs/javascript/variables.html" role="menuitem">Variables</a>


    <a class="item " href="/hostedPXT/docs/javascript/operators.html" role="menuitem">Operators</a>


    <a class="item " href="/hostedPXT/docs/javascript/statements.html" role="menuitem">Statements</a>


    <a class="item " href="/hostedPXT/docs/javascript/functions.html" role="menuitem">Functions</a>


    <a class="item " href="/hostedPXT/docs/javascript/types.html" role="menuitem">Types</a>


    <a class="item " href="/hostedPXT/docs/javascript/classes.html" role="menuitem">Classes</a>


    <a class="item " href="/hostedPXT/docs/javascript/interfaces.html" role="menuitem">Interfaces</a>


    <a class="item " href="/hostedPXT/docs/javascript/generics.html" role="menuitem">Generics</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/types.html">Types</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/types/number.html" role="menuitem">Number</a>


    <a class="item " href="/hostedPXT/docs/types/string.html" role="menuitem">String</a>


    <a class="item " href="/hostedPXT/docs/types/boolean.html" role="menuitem">Boolean</a>


    <a class="item " href="/hostedPXT/docs/types/array.html" role="menuitem">Array</a>


    <a class="item " href="/hostedPXT/docs/types/function.html" role="menuitem">Function</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="">Miscellaneous</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/about.html" role="menuitem">About</a>


    <a class="item " href="/hostedPXT/docs/support.html" role="menuitem">Support</a>


    <a class="item " href="/hostedPXT/docs/translate.html" role="menuitem">Translate</a>


    <a class="item " href="/hostedPXT/docs/share.html" role="menuitem">Sharing projects</a>


    <a class="item " href="/hostedPXT/docs/offline.html" role="menuitem">Offline support</a>


    <a class="item " href="/hostedPXT/docs/save.html" role="menuitem">Save</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="">Developers</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/cli.html" role="menuitem">Command Line Interface</a>


    <a class="item " href="/hostedPXT/docs/code.html" role="menuitem">Visual Studio Code support</a>


    <a class="item " href="/hostedPXT/docs/blocks-embed.html" role="menuitem">Blocks Embed</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/projects.html">Projects</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/projects/magic-wand.html" role="menuitem">Magic Wand</a>


    <a class="item " href="/hostedPXT/docs/projects/dandelion.html" role="menuitem">Dandelion</a>


    <a class="item " href="/hostedPXT/docs/projects/fidget-spinner.html" role="menuitem">Fidget Spinner</a>


    <a class="item " href="/hostedPXT/docs/projects/watch-timer.html" role="menuitem">Watch Timer</a>


    <a class="item " href="/hostedPXT/docs/projects/lucky-wheel.html" role="menuitem">Lucky Wheel</a>


    <a class="item " href="/hostedPXT/docs/projects/headlamp.html" role="menuitem">Headlamp</a>


    <a class="item " href="/hostedPXT/docs/projects/guitar.html" role="menuitem">Guitar</a>


    <a class="item " href="/hostedPXT/docs/projects/hot-potato.html" role="menuitem">Hot Potato</a>


    <a class="item " href="/hostedPXT/docs/projects/light-monster.html" role="menuitem">Light Monster</a>


    <a class="item " href="/hostedPXT/docs/projects/reaction.html" role="menuitem">Reaction!</a>


    <a class="item " href="/hostedPXT/docs/projects/wearable-neopixels.html" role="menuitem">Wearable NeoPixels</a>


    <a class="item " href="/hostedPXT/docs/projects/fabric-friend.html" role="menuitem">Fabric Friend</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/hostedPXT/docs/device.html">Hardware</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/hostedPXT/docs/device/simulator.html" role="menuitem">Simulator</a>


    <a class="item " href="/hostedPXT/docs/device/usb.html" role="menuitem">USB</a>

        </div>
    </div>

    </div>
</div>
<!-- end include tocheader.html -->


	<div id="docs" class="pusher">

		<div class="article" id="maincontent">
			<div class="article-inner">

				
<!-- include header.html -->
<div class="ui one column padded grid hideprint">
    <div class="column ui container">
        
    </div>
</div>
<!-- end include header.html -->


				<div class="main ui container fluid mainbody">
					<button id="printbtn" class="circular ui icon right floated button hideprint hidemobile"
						title="Print" aria-label="Print">
						<i class="icon print"></i>
					</button>
					
    <div class="ui text">
        <h1 id="coding-the-fabric-friends">Coding the Fabric Friends</h1><!-- desc -->
    <div class='avatar avatar'>
        <div class='avatar-image'></div>
        <div class='ui compact message'>
            <p>Create effects and animations for your Fabric Friend.</p>

        </div>
    </div>
<p><strong>Block categories used:</strong></p>
<ul>
<li>Pixels</li>
<li>Animations</li>
<li>Input sensors (Shake)</li>
</ul>
<h2 id="duration-25-minutes">Duration: 25 minutes</h2><h2 id="magic-eight-effect">Magic Eight effect</h2><p>First, let’s code a Fabric Friend with predictive powers, kind of like a Magic Eight Ball. We’ll use a randomly chosen variable to select what face the Fabric Friend will make upon the input of <code>||on shake||</code>. The responses might be positive, negative, or confused.</p>

    <div class="ui grid">
        <div class="ten wide column">
            <div class="ui embed mdvid" data-source="youtube" data-id="-sgF1Fzbc9E"
                data-placeholder="https://img.youtube.com/vi/-sgF1Fzbc9E/0.jpg">
            </div>
        </div>
    </div>
<p><br /></p>
<h3 id="create-pixel-strips-for-the-eyes">Create pixel strips for the eyes</h3><p>Open <a target="_blank" rel="nofollow noopener" href="https://makecode.adafruit.com/">MakeCode</a> in your web browser.</p>
<p>First, go to <code>||variables:VARIABLES||</code> and make variables called <code>LeftEye</code> and <code>RightEye</code> (or for as many eyes your friend has). You’ll also need a variable called <code>Magic8</code>. Use the <code>||variables:set variable||</code> blocks to create strips for each eye with one pixel, and set <code>Magic8</code> to <code>1</code>.</p>
<pre><code class="lang-blocks">let Magic8 = 0
let RightEye: light.NeoPixelStrip = null
let LeftEye: light.NeoPixelStrip = null
LeftEye = light.createStrip(pins.A4, 1)
RightEye = light.createStrip(pins.A7, 1)
Magic8 = 1</code></pre>
<h3 id="stop-sounds-on-shake">Stop sounds on shake</h3><p>Next, let’s use an <code>||input:on shake||</code> input block to stop any sounds that might be playing and to set the variable. We’ll want the variable to be randomly assigned, so go to the <code>||math:MATH||</code> drawer in the Toolbox and find the <code>||math:pick random||</code> block.</p>
<pre><code class="lang-blocks">let Magic8 = 0
input.onGesture(Gesture.Shake, function () {
    music.stopAllSounds()
    Magic8 = Math.randomRange(1, 3)
})</code></pre>
<h3 id="make-the-magic-8-loop">Make the Magic 8 loop</h3><p>Next, let’s make the framework for the main <code>||loops:forever||</code> loop. From the <code>||logic:LOGIC||</code> drawer, you’ll need an <code>||logic:if hen else||</code> block, and click on the plus sign to add a blank slot for every facial expression you want your friend to have. For the first <code>||logic:if||</code> condition, find a comparison block in <code>|logic:LOGIC||</code>, put the <code>Magic8</code> variable block on the left, and type a <code>1</code> on the right. The comparison should be the equals, <code>=</code>. Do the same for the next two condition blocks, but have them equal <code>2</code> and <code>3</code>.</p>
<pre><code class="lang-blocks">let Magic8 = 0
forever(function () {
    if (Magic8 == 1) {

    } else if (Magic8 == 2) {

    } else if (Magic8 == 3) {

    } else {

    }
})</code></pre>
<h3 id="fill-in-the-conditions">Fill in the conditions</h3><p>Now you can fill in the <code>||logic:if then else||</code> conditions with light and sound responses. When the Fabric Friend gets a shake, either a <code>1</code>, <code>2</code>, or <code>3</code> will be chosen. The sample code has a “yes” response, a “no” response, and an “unclear” response. Note a few aspects here. The <code>||loops:pause 3000 ms||</code> blocks are necessary to allow a little time to view and hear the response before the variable gets reset to zero. Resetting the variable <code>Magic8</code> to zero makes the <code>||logic:if then else||</code> choose the final <code>||logic:else||</code> condition, which here is meant to be a neutral or expectant expression. In between responses, the Fabric Friend will be expecting another fascinating question. </p>
<pre><code class="lang-blocks">let Magic8 = 0
let RightEye: light.NeoPixelStrip = null
let LeftEye: light.NeoPixelStrip = null
LeftEye = light.createStrip(pins.A4, 1)
RightEye = light.createStrip(pins.A7, 1)
forever(function () {
    if (Magic8 == 1) {
        light.showRing(
        `black black black black black green green green green green`
        )
        LeftEye.setAll(0x00ff00)
        RightEye.setAll(0x00ff00)
        music.magicWand.play()
        pause(3000)
        Magic8 = 0
    } else if (Magic8 == 2) {
        light.showRing(
        `purple purple purple purple purple black black black black black`
        )
        LeftEye.setAll(0x7f00ff)
        RightEye.setAll(0x7f00ff)
        music.powerDown.play()
        pause(3000)
        Magic8 = 0
    } else if (Magic8 == 3) {
        light.showRing(
        `blue black black black blue orange blue orange orange orange`
        )
        LeftEye.setAll(0x0000ff)
        RightEye.setAll(0xff8000)
        music.wawawawaa.play()
        pause(3000)
        Magic8 = 0
    } else {
        light.setAll(0x00ffff)
        LeftEye.showAnimation(light.sparkleAnimation, 2000)
        RightEye.showAnimation(light.sparkleAnimation, 2000)
    }
})</code></pre>
<h2 id="make-a-hungry-friend">Make a hungry Friend</h2><p>Now let’s code a Fabric Friend who gets hungry and irritable over time, but who can be fed to regain happiness and composure.</p>

    <div class="ui grid">
        <div class="ten wide column">
            <div class="ui embed mdvid" data-source="youtube" data-id="L_21ZX2b9UE"
                data-placeholder="https://img.youtube.com/vi/L_21ZX2b9UE/0.jpg">
            </div>
        </div>
    </div>
<p><br /></p>
<h3 id="create-pixel-strips-for-the-eyes">Create pixel strips for the eyes</h3><p>First, go to <code>||variables:VARIABLES||</code> and make variables called <code>LeftEye</code> and <code>RightEye</code> (or, however many eyes your friend has). You’ll also need a variable called <code>Hunger</code>. Use the <code>||set variable||</code> blocks to create strips for each eye with one pixel, and set <code>Hunger</code> to zero. Use an <code>||input:on button A click||</code> to be able to reset the <code>Hunger</code> variable to zero when you need to. </p>
<pre><code class="lang-blocks">let Hunger = 0
let RightEye: light.NeoPixelStrip = null
let LeftEye: light.NeoPixelStrip = null
LeftEye = light.createStrip(pins.A4, 1)
RightEye = light.createStrip(pins.A7, 1)
Hunger = 0
input.buttonA.onEvent(ButtonEvent.Click, function () {
    Hunger = 0
})</code></pre>
<h3 id="the-hungry-loop">The hungry loop</h3><p>Next, let’s make the framework for the main <code>||loops:forever||</code> loop. From the <code>||logic:LOGIC||</code> drawer, you’ll need an <code>|logic:if then else||</code> block, and click on the plus sign <strong>(+)</strong> to add a blank slot for every facial expression you want your friend to have. For the first <code>||logic:if||</code> condition, find a comparison block in <code>||logic:LOGIC||</code>, put the <code>Hunger</code> variable block on the left, change the comparison to less than, and put a number on the right that will be the number of seconds the facial expression lasts for. For the <code>||logic:else if||</code> conditions, find an <code>||logic:and||</code> condition block in <code>||logic:LOGIC||</code>, and within each of the <code>||logic:and||</code> blocks conditions, put in a comparison block. See below for how to change the comparisons. Finally, we need a way for the variable <code>Hunger</code> to change. Add a <code>||loops:pause 1 second||</code> (1000 ms) block outside of the end of the <code>||logic:if then else||</code> block, and put a <code>||variables:change Hunger by 1||</code> block. That way, every second the variable will get bigger. For <code>13</code> seconds, the first statement of the <code>||logic:if then else||</code> will be <code>true</code>. Then, for seconds <code>14</code> - <code>17</code> the second statement will be the true one, and so on.</p>
<pre><code class="lang-blocks">let Hunger = 0
Hunger = 0
forever(function () {
    if (Hunger &lt; 14) {

    } else if (Hunger &gt;= 14 &amp;&amp; Hunger &lt; 18) {

    } else if (Hunger &gt;= 18 &amp;&amp; Hunger &lt; 22) {

    } else {

    }
    pause(1000)
    Hunger += 1
})</code></pre>
<h3 id="adjust-hunger-to-light-level">Adjust hunger to light level</h3><p>We’ll make a second <code>||loops:forever||</code> loop with three separate <code>||logic:if then||</code> blocks in it. The first one says, “If the light level goes beneath 25 (or whatever value works for the room you’re in), then subtract 3 from the Hunger variable”. This way, when you put food to the Fabric Friend’s mouth, you can dim the light hitting the sensor and feed it. The second <code>||logic:if then||</code> block says, “If the Hunger variable goes below zero, Set Hunger to zero”. This is useful because otherwise you might have <code>Hunger</code> become <code>-30</code> accidentally, and it would take a long time for the variable to get back to positive numbers. Likewise, the last <code>||logic:if then||</code> block prevents the variable from getting too large as time goes on. </p>
<pre><code class="lang-blocks">let Hunger = 0
forever(function () {
    if (input.lightLevel() &lt; 25) {
        Hunger += -3
    }
    if (Hunger &lt; 0) {
        Hunger = 0
    }
    if (Hunger &gt; 30) {
        Hunger = 22
    }
})</code></pre>
<h3 id="make-some-facial-expressions">Make some facial expressions</h3><p>Finally, it’s time to make facial expressions for each of the Fabric Friend’s states of mind. Be sure to pay attention to where the mini USB port and the JST battery connector are on the simulator so you can align your smiles, frowns, etc. correctly. </p>
<pre><code class="lang-blocks">let Hunger = 0
let RightEye: light.NeoPixelStrip = null
let LeftEye: light.NeoPixelStrip = null
LeftEye = light.createStrip(pins.A4, 1)
RightEye = light.createStrip(pins.A7, 1)
Hunger = 0
forever(function () {
    if (Hunger &lt; 14) {
        LeftEye.setAll(0xff8000)
        RightEye.setAll(0xff8000)
        light.showRing(
        `black black black black black orange orange orange orange orange`
        )
    } else if (Hunger &gt;= 14 &amp;&amp; Hunger &lt; 18) {
        LeftEye.setAll(0xff8000)
        RightEye.setAll(0xff8000)
        pause(100)
        LeftEye.setAll(0xff0000)
        RightEye.setAll(0xff0000)
        pause(100)
        LeftEye.setAll(0xff8000)
        RightEye.setAll(0xff8000)
        light.showRing(
        `black black black black black black orange orange orange black`
        )
    } else if (Hunger &gt;= 18 &amp;&amp; Hunger &lt; 22) {
        LeftEye.setAll(0xff0000)
        RightEye.setAll(0xff0000)
        light.showRing(
        `black black black black black blue blue blue blue blue`
        )
        pause(100)
        light.showRing(
        `blue blue blue blue blue black black black black black`
        )
        pause(100)
    } else {
        music.siren.play()
        LeftEye.setAll(0x00ff00)
        RightEye.setAll(0x7f00ff)
        pause(Math.randomRange(100, 200))
        LeftEye.setAll(0xff0000)
        pause(100)
        LeftEye.setAll(0x0000ff)
        RightEye.setAll(0xffffff)
        pause(Math.randomRange(100, 200))
        RightEye.setAll(0xff00ff)
    }
    pause(1000)
    Hunger += 1
})</code></pre>
<h2 id="variations-and-challenges">Variations and challenges</h2><p>Instead of hungry, how about making a fabric friend who gets sleepy? How about making the fabric friend randomly express an emotion periodically and require soothing of some kind? </p>

    </div>

					<div class="hideprint"></div>
				</div>

			</div>

			
<!-- include footer.html -->
<footer class="ui vertical footer segment hideprint docs inverted" aria-hidden="false">
    <div class="ui center aligned container">
        <div class="ui horizontal link list">
            <a
                class="item"
                href="https://twitter.com/intent/follow?screen_name=MsMakeCode"
                title="Follow us on Twitter"
                target="_blank"
                rel="noopener">
                <i class="huge icon twitter"></i>
            </a>
            <a class="item" href="https://www.youtube.com/channel/UCye7YlvFUUQ1dSy0WZZ1T_Q" title="Subscribe to our YouTube channel"
                target="_blank" rel="noopened">
                <i class="huge icon youtube"></i>
            </a>
            <a class="item" href="mailto:makecode@microsoft.com" title="Send us an Email"
                target="_blank" rel="noopened">
                <i class="huge icon mail"></i>
            </a>
        </div>
        <div class="ui section divider"></div>
        <div class="ui container horizontal small divided link list">
            <a id="langpicker" tabindex="0" class="ui item" rel="noopener">
                <i class="icon xicon globe" aria-hidden="true" role="presentation"></i>Language
            </a>
            <a class="item" href="https://makecode.com/privacy" target="_blank" rel="noopener">Privacy &amp; Cookies</a>
            <a class="item" href="https://makecode.com/termsofuse" target="_blank" rel="noopener">Terms Of Use</a>
            <a class="item" href="https://makecode.com/trademarks" target="_blank" rel="noopener">Trademarks</a>
            <span class="item">© 2020 Microsoft</span>
        </div>
        <div class="ui container horizontal small link list poweredBy">
            <span class="item">Powered by</span>
            <a class="middle aligned" href="https://makecode.com/" title="Microsoft MakeCode"
                target="_blank" rel="noopener">
                <img width="100" src="/static/logo/Microsoft-logo_rgb_c-gray.png" alt="Microsoft">
            </a>
        </div>
    </div>
</footer>

<!-- end include footer.html -->


		</div>

	</div>

    
<!-- include langpicker.html -->
<div id="langmodal" class="ui modal docs" role="dialog" aria-modal="true" aria-describedby="langmodalheader" tabindex="-1">
    <h2 id="langmodalheader" class="header">Select Language</h2>
    <div role="button" class="closeIcon" tabindex="0" aria-label="Close">
        <i class="icon close remove circle" aria-hidden="true"></i>
    </div>

	<div class="content">
	    <div class="group">
            <div id="availablelocales" class="ui cards centered" role="listbox" aria-label="List of available locales"></div>
        </div>
        <div class="ui" id="langmodalfooter">
            <a class="ui" href="/hostedPXT/docs/translate.html" target="_blank" rel="noopener noreferrer">
                How do I add a new language?
            </a>

            <a id="translatebtn" class="ui button" role="button" tabindex="0">
                Translate this page
            </a>
        </div>
    </div>
</div>


<!-- end include langpicker.html -->

	
<!-- include macros.html -->
<!-- macro button -->

<!-- macro vimeo -->

<!-- macro youtube -->

<!-- macro section -->

<!-- macro hide -->

<!-- macro avatar -->

<!-- macro hint -->

<!-- macro codecard -->

<!-- macro tutorialhint -->

<!-- macro reminder -->

<!-- macro alert -->

<!-- macro tip -->

<!-- wrapped around ordinary content -->
<!-- macro main-container -->

<!-- used for 'column' box - they are collected and wrapped in 'column-container' -->
<!-- macro column -->
<!-- macro column-container -->


<!-- Menu on the top of the page -->
<!-- macro item -->

<!-- macro divider -->

<!-- TOC in the sidebar -->
<!-- macro item -->

<!-- macro divider -->

<!-- macro toc-dropdown -->

<!-- macro toc-dropdown-noLink -->

<!-- macro toc-dropdown-noHeading -->

<!-- TODO: duplicates of above for compatability with docsrender.ts;
    remove with pxtlib/docsrender.ts TOC TODOs after cloud bump. -->
<!-- macro top-dropdown -->

<!-- macro top-dropdown-noHeading -->

<!-- macro inner-dropdown -->

<!-- macro nested-dropdown -->
<!-- end include macros.html -->

	
<!-- include tracking.html -->
<script type="text/javascript" src="/hostedPXT/pxtweb.js"></script>
<script type="text/javascript">
    window.loadAppInsights = function (includeCookie) {
        var appInsights=window.appInsights||function(config){
            function i(config){t[config]=function(){var i=arguments;t.queue.push(function(){t[config].apply(t,i)})}}var t={config:config},u=document,e=window,o="script",s="AuthenticatedUserContext",h="start",c="stop",l="Track",a=l+"Event",v=l+"Page",y=u.createElement(o),r,f;y.src=config.url||"https://az416426.vo.msecnd.net/scripts/a/ai.0.js";u.getElementsByTagName(o)[0].parentNode.appendChild(y);try{t.cookie=u.cookie}catch(p){}for(t.queue=[],t.version="1.0",r=["Event","Exception","Metric","PageView","Trace","Dependency"];r.length;)i("track"+r.pop());return i("set"+s),i("clear"+s),i(h+a),i(c+a),i(h+v),i(c+v),i("flush"),config.disableExceptionTracking||(r="onerror",i("_"+r),f=e[r],e[r]=function(config,i,u,e,o){var s=f&&f(config,i,u,e,o);return s!==!0&&t["_"+r](config,i,u,e,o),s}),t
        }({
            instrumentationKey:"9801ed01-c40f-46ec-aa40-2a1742a9e71c",
            disableAjaxTracking: true,
            overridePageViewDuration: false,
            disableExceptionTracking: true,
            isCookieUseDisabled: !includeCookie,
            isStorageUseDisabled: !includeCookie,
            url: "/hostedPXT/ai.0.js"
        });
        window.appInsights=appInsights;
        appInsights.queue.push(function () {
            appInsights.context.addTelemetryInitializer(function (envelope) {
                if (typeof pxtConfig === "undefined" || !pxtConfig) return;
                var telemetryItem = envelope.data.baseData;
                telemetryItem.properties = telemetryItem.properties || {};
                telemetryItem.properties["target"] = pxtConfig.targetId;
                telemetryItem.properties["stage"] = (pxtConfig.relprefix || "/--").replace(/[^a-z]/ig, '')
                telemetryItem.properties["cookie"] = includeCookie;
                if (typeof Windows !== "undefined")
                    telemetryItem.properties["WindowsApp"] = 1;
                var userAgent = navigator.userAgent.toLowerCase();
                var userAgentRegexResult = /\belectron\/(\d+\.\d+\.\d+.*?)(?: |$)/i.exec(userAgent); // Example navigator.userAgent: "Mozilla/5.0 Chrome/61.0.3163.100 Electron/2.0.0 Safari/537.36"
                if (userAgentRegexResult) {
                    telemetryItem.properties["Electron"] = 1;
                    telemetryItem.properties["ElectronVersion"] = userAgentRegexResult[1];
                }
                if (typeof pxtElectron !== "undefined") {
                    telemetryItem.properties["PxtElectron"] = 1;
                    telemetryItem.properties["ElectronVersion"] = pxtElectron.versions.electronVersion;
                    telemetryItem.properties["ChromiumVersion"] = pxtElectron.versions.chromiumVersion;
                    telemetryItem.properties["NodeVersion"] = pxtElectron.versions.nodeVersion;
                    telemetryItem.properties["PxtElectronVersion"] = pxtElectron.versions.pxtElectronVersion;
                    telemetryItem.properties["PxtCoreVersion"] = pxtElectron.versions.pxtCoreVersion;
                    telemetryItem.properties["PxtTargetVersion"] = pxtElectron.versions.pxtTargetVersion;
                    telemetryItem.properties["PxtElectronIsProd"] = pxtElectron.versions.isProd;
                }
            });
        });
        appInsights.trackPageView(null, scrubUrl(window.location.toString()), {urlReferrer: scrubUrl(document.referrer.toString())});

        //Scrub the key (if any) from the URL.
        function scrubUrl(url) {
            var scriptIdRegex = /(?:\d{5}-\d{5}-\d{5}-\d{5})|(?:_[0-9a-zA-Z]{12})/g;
            return url.replace(scriptIdRegex, "xxxxx-xxxxx-xxxxx-xxxxx");
        }
    }
    pxt.initAnalyticsAsync();
</script>
<!-- end include tracking.html -->


</body>

</html>